(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6862],{2231:function(c,a,b){"use strict";var d,e=b(67294);function f(){return(f=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}a.Z=function(a){return e.createElement("svg",f({width:8,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{d:"M1.29.71a.996.996 0 0 0 0 1.41L5.17 6 1.29 9.88a.996.996 0 1 0 1.41 1.41L7.29 6.7a.996.996 0 0 0 0-1.41L2.7.7C2.32.32 1.68.32 1.29.71Z",fill:"#323232"})))}},95554:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/verification-nik",function(){return c(12186)}])},88847:function(g,d,a){"use strict";var h=a(85893),e=a(65612),i=a.n(e),f=a(45697),b=a.n(f),c=function(a){var b=a.className,c=a.color,d=a.size,e=[i().spinner,i()[c],i()[d]].join(" ");return(0,h.jsx)("div",{className:b,children:(0,h.jsx)("div",{className:e})})};d.Z=c,c.defaultProps={className:"",color:"",size:"sm"},c.propTypes={className:b().string,color:b().string,size:b().string}},70733:function(g,d,a){"use strict";a.d(d,{Z:function(){return c}});var h=a(85893),i=a(5757),j=a(90706),e=a(91823),k=a.n(e),f=a(45697),b=a.n(f),l=a(67294),m=a(77074),n=a(17617),o=a(24577);function c(a){var f=a.setModalLogout,e=a.modalLogout,b=(0,l.useContext)(m.V).auth,g=(0,l.useContext)(o.z).setToastr,c=(0,l.useState)(!1),d=c[0],p=c[1],q=n.kS(null==b?void 0:b.accessToken,function(a){if(a.success)localStorage.clear(),window.location.replace("/merchant/auth/login");else{var b,c,d;f(!1),g({isOpen:!0,message:(null==a?void 0:null===(b=a.response)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.message)||(null==a?void 0:null===(d=a.response)|| void 0===d?void 0:d.message)||"Terjadi kesalahan, gagal melakukan logout. Silahkan coba lagi nanti.",color:"error"}),p(!1)}});return(0,h.jsx)(i.u,{centered:!0,className:k().modalLogout,onClose:function(){return f(!1)},opened:e,styles:{title:{fontWeight:"bold",textAlign:"left",lineHeight:"1.5rem"}},title:"Anda yakin ingin keluar dari MerchantApps Pangkalan Pertamina?",withCloseButton:!1,children:(0,h.jsxs)("div",{className:k().btnActionLogoutContainer,children:[(0,h.jsx)(j.Z,{className:k().btnLogoutModal,dataTestid:"btnLogout",disabled:d,onClick:function(){p(!0),q.mutate()},children:"Keluar"}),(0,h.jsx)(j.Z,{className:k().btnLogoutModal,dataTestid:"btnCancelLogout",disabled:d,onClick:function(){return f(!1)},variant:"nooutlined",children:"Kembali"})]})})}c.defaultProps={modalLogout:!1,setModalLogout:function(){}},c.propTypes={modalLogout:b().bool,setModalLogout:b().func}},41129:function(i,f,a){"use strict";a.d(f,{H:function(){return e},E:function(){return d}});var j=a(85893),k=a(93057);a(67294);var g=a(45697),b=a.n(g);function c(a){var b=a.className;return(0,j.jsxs)("svg",{className:b,fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("path",{d:"M9 9C9 5.5 14.5 5.5 14.5 9C14.5 11.5 12 11 12 14M12 18.01L12.01 17.999",stroke:"#EA2036",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.99"}),(0,j.jsx)("path",{d:"M12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 13.821 2.487 15.53 3.338 17L2.5 21.5L7 20.662C8.51954 21.5411 10.2445 22.0027 12 22Z",stroke:"#EA2036",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.99"})]})}c.defaultProps={className:""},c.propTypes={className:b().string};var l=a(21017),h=a(28695),m=a.n(h),n=a(63991);function d(a){var b=a.goToFaq;return(0,j.jsx)(l.Z,{className:m().defaultCard,children:(0,j.jsxs)("div",{className:m().cardTitle,children:[(0,j.jsx)("div",{className:m().logoContainer,children:(0,j.jsx)(k.Z,{})}),(0,j.jsx)("span",{}),(0,j.jsxs)("div",{className:m().containerHelp,"data-testid":"btnHelp",onClick:b,children:[(0,j.jsx)("span",{children:"Bantuan"}),(0,j.jsx)(c,{})]})]})})}function e(a){var d=a.setModalLogout,b=a.textButton,c=a.className;return(0,j.jsx)("div",{className:[m().bottomLogout,c].join(" "),children:(0,j.jsxs)("div",{className:m().logout,"data-testid":"btnLogout",onClick:function(){return d(!0)},children:[(0,j.jsx)(n.gtU,{className:m().iconLogout}),(0,j.jsx)("span",{children:b})]})})}e.defaultProps={className:"",setModalLogout:function(){},textButton:"Keluar Akun"},e.propTypes={className:b().string,setModalLogout:b().func,textButton:b().string},d.defaultProps={goToFaq:function(){}},d.propTypes={goToFaq:b().func}},12186:function(u,f,b){"use strict";b.r(f),b.d(f,{default:function(){return ao}});var v,w=b(26042),x=b(69396),y=b(828),z=b(85893),l=b(67294),A=b(72445),B=b(49737),C=b(99534),m=b(45697),a=b.n(m),n=b(71485),D=b(52785),E=(0,n.k)(function(f,a){var c=a.floating,d=a.disabled,b=a.fontSize,e=a.shadow;return{root:{position:"relative"},required:{transition:"opacity 150ms ease",opacity:c?1:0},input:{borderRadius:"12px",boxShadow:e?"0px 4px 8px rgba(0, 0, 0, 0.12)":"none",fontSize:"lg"===b?"1.5rem":"1rem","::placeholder":{fontSize:"lg"===b?"1.15rem":"1rem"},lineHeight:"1.5",paddingBottom:"lg"===b?"0.4rem":"unset"},svg:{fill:d?"#A0A4A8":"#CACCCF"}}});function g(a){var H=a.clearErrors,e=a.data,c=a.defaultValue,f=a.disabled,m=a.dropdownPosition,d=a.env,I=a.setValue,n=a.placeholder,o=a.fontSize,J=a.name,p=a.label,q=a.className,r=a.type,g=a.errors,s=a.floatingMode,h=a.inputMode,t=a.maxLength,b=a.showDropDown,u=a.itemComponent,v=a.maxDropdownHeight,w=a.switchDirectionOnFlip,x=a.isDebounce,K=a.debounceTimer,L=a.debounceFn,y=a.shadow,i=(0,l.useState)(!s&&!!c),A=i[0],M=i[1],B=E({floating:0!==q.trim().length||A,disabled:f,fontSize:o,shadow:y},r).classes,j=(0,l.useState)(e||[]),C=j[0],N=j[1],k=(0,l.useState)(""),F=k[0],O=k[1],P=function(a){H(J),M(!0),I(J,a)},Q=function(a){x&&O(a),P(a)};(0,l.useEffect)(function(){if(b){var a=e.filter(function(a){return a.value.includes(c)});N(a)}},[c,e,b]);var G=function(a){["0","1","2","3","4","5","6","7","8","9","Backspace","ArrowLeft","ArrowRight","Control","Tab"," "].includes(a.key)||a.preventDefault()};return((0,l.useEffect)(function(){var a=setTimeout(function(){L(F)},K);return function(){return clearTimeout(a)}},[F]),(null==d?void 0:d.mode)==="test")?"test 2"===d.test?(x=!0,b=!0,(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{"data-testid":"btnHandleChange2",onClick:function(){return Q(d.change2)},children:"handleChangeInput2"})})):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{"data-testid":"btnBlockInvalidChar1",onClick:function(){return G(d.e)},children:"blockInvalidChar1"}),(0,z.jsx)("div",{"data-testid":"btnBlockInvalidChar2",onClick:function(){return G(d.e2)},children:"blockInvalidChar2"}),(0,z.jsx)("div",{"data-testid":"btnHandleChange1",onClick:function(){return Q(d.change1)},children:"handleChangeInput"}),(0,z.jsx)("div",{"data-testid":"btnDebounceFn",onClick:function(){return O(d.change1)},children:"insertValue"})]}):(0,z.jsx)(D.F,{classNames:B,data:b?C:[],disabled:f,dropdownPosition:m,error:Object.keys(g).length>0&&g.message||"",initiallyOpened:b,inputMode:h,itemComponent:u,label:p,maxDropdownHeight:v,maxLength:t,onChange:function(a){return Q(a)},onFocus:function(){return M(!0)},onKeyDown:"numeric"===h?G:function(){},placeholder:n,switchDirectionOnFlip:w,value:c,zIndex:10})}g.defaultProps={AutoCompleteItem:function(){},className:"",clearErrors:function(){},data:[],debounceFn:function(){},debounceTimer:1e3,defaultValue:"",disabled:!1,dropdownPosition:"bottom",env:{mode:"act"},errors:{},floatingMode:!1,fontSize:"md",formProps:{},inputMode:"",isDebounce:!1,itemComponent:{},label:"",maxDropdownHeight:"",maxLength:100,name:"",placeholder:"",required:!1,rightSection:"",setError:function(){},setOpenMap:function(){},setStockMode:function(){},setValue:function(){},shadow:!0,showDropDown:!1,switchDirectionOnFlip:!1,type:""},g.propTypes={AutoCompleteItem:a().func,className:a().string,clearErrors:a().func,data:a().array,debounceFn:a().func,debounceTimer:a().number,defaultValue:a().oneOfType([a().string,a().number]),disabled:a().bool,dropdownPosition:a().string,env:a().object,errors:a().object,floatingMode:a().bool,fontSize:a().oneOf(["sm","md","lg"]),formProps:a().object,inputMode:a().string,isDebounce:a().bool,itemComponent:a().object,label:a().string,maxDropdownHeight:a().string,maxLength:a().number,name:a().string,placeholder:a().string,required:a().bool,rightSection:a().oneOfType([a().string,a().node]),setError:a().func,setOpenMap:a().func,setStockMode:a().func,setValue:a().func,shadow:a().bool,showDropDown:a().bool,switchDirectionOnFlip:a().bool,type:a().string};var o=b(85252),F=b.n(o),G=b(57547),H=b(87536),I=b(78355),J=b(95117);function K(){return(K=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var L=function(a){return l.createElement("svg",K({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),v||(v=l.createElement("path",{d:"M14 .667C6.64.667.667 6.64.667 14S6.64 27.333 14 27.333 27.333 21.36 27.333 14 21.36.667 14 .667Zm0 20c-.733 0-1.333-.6-1.333-1.334V14c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333v5.333c0 .734-.6 1.334-1.333 1.334ZM15.333 10h-2.666V7.333h2.666V10Z",fill:"#E32935"})))},c=(0,l.forwardRef)(function(a,b){var c=a.description,d=a.label,e=(0,C.Z)(a,["description","label"]);return(0,z.jsx)("div",(0,x.Z)((0,w.Z)({},e),{ref:b,children:(0,z.jsx)("div",{children:(0,z.jsxs)("div",{"data-testid":"item-dropdown",onClick:function(){return handleClickDropdown(d)},children:[(0,z.jsx)(J.x,{color:"black",children:d}),(0,z.jsx)(J.x,{color:"dimmed",fz:"xs",children:c})]})})}))});c.displayName="AutoCompleteItem";var d=function(a){var d,e,h=a.data,i=a.errorMsg,k=a.fetchVerificationNik,l=a.handleSubmitNik,m=a.isLoading,B=a.setErrorMsg,n=a.setSearchNik,o=a.disableBtn,j=a.alertError,p=a.minutes,q=a.seconds,b=(0,H.cI)({mode:"onChange",reValidationMode:"onChange",defaultvalues:{nik:""}}),r=b.handleSubmit,f=b.watch,C=b.setValue,s=b.register,t=b.formState,u=b.setError,v=b.clearErrors,y=t.errors,A=null==h?void 0:h.map(function(a){return{label:a.nationalityId.split("").map(function(a,b){return(b+1)%6==0?a+" ":a}).join(""),description:a.name}});return(0,z.jsxs)("div",{className:F().formContainer,children:[(0,z.jsxs)("div",{className:F().headerForm,children:[(0,z.jsx)("h3",{children:"NIK KTP Pelanggan"}),(0,z.jsx)("span",{children:"Masukkan dan cek NIK pelanggan untuk melanjutkan transaksi LPG 3 Kg"})]}),(0,z.jsxs)("form",{onSubmit:r(l),children:[(0,z.jsx)(g,{className:F().custAutocomplete,clearErrors:v,data:A.map(function(a){return(0,x.Z)((0,w.Z)({},a),{value:a.label})}),debounceFn:n,defaultValue:f("nik"),errors:Object.keys(i).length<1?y.nik:i,fontSize:"lg",formProps:s("nik",{required:"Wajib diisi",pattern:{value:/^[\d ]{18}$/,message:"NIK yang dimasukkan harus 16 digit."}}),inputMode:"numeric",isDebounce:!0,itemComponent:c,maxDropdownHeight:"11rem",maxLength:18,name:"nik",placeholder:"Masukkan 16 digit NIK KTP Pelanggan",required:!0,setError:u,setValue:function(b,a){C(b,a=a.replace(/[^\dA-Z]/g,"").replace(/(.{6})/g,"$1 ").trim()),B({})},shadow:!1,showDropDown:(null===(d=f("nik"))|| void 0===d?void 0:d.length)>=8&&(null===(e=f("nik"))|| void 0===e?void 0:e.length)<20,type:"nik"}),j&&(0,z.jsx)("br",{}),j&&(0,z.jsxs)("div",{className:F().alertContainer,children:[(0,z.jsx)("div",{className:F().iconAlert,children:(0,z.jsx)(L,{})}),(0,z.jsxs)("p",{children:["Anda telah melakukan verifikasi NIK sebanyak 5 kali. Harap tunggu hingga ",(0,z.jsxs)("span",{children:[p,":",q]})]})]}),(0,z.jsx)(G.Z,{className:F().btnBayar,color:"primary",dataTestid:"btnCheckNik",disabled:o,size:"medium",type:"submit",variant:"contained",children:m||k.isFetching?(0,z.jsx)(I.Z,{}):"Cek"})]})]})},M=d;d.defaultProps={alertError:!1,data:[],dataMerchant:{},disableBtn:!1,errorMsg:{},fetchVerificationNik:{},handleSubmitNik:function(){},isLoading:!1,minutes:0,seconds:0,setAlertError:function(){},setErrorMsg:function(){},setSearchNik:function(){}},d.propTypes={alertError:a().bool,data:a().array,dataMerchant:a().object,disableBtn:a().bool,errorMsg:a().object,fetchVerificationNik:a().object,handleSubmitNik:a().func,isLoading:a().bool,minutes:a().number,seconds:a().number,setAlertError:a().func,setErrorMsg:a().func,setSearchNik:a().func},c.defaultProps={description:"",label:"",others:{}},c.propTypes={description:a().string,label:a().string,others:a().object};var p=b(7973),N=b.n(p);function h(a){var b=a.className;return(0,z.jsx)("svg",{className:b,fill:"none",height:"20",viewBox:"0 0 16 20",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,z.jsx)("path",{d:"M8 10H15M15 10L12 13M15 10L12 7M15 4V3C15 2.46957 14.7893 1.96086 14.4142 1.58579C14.0391 1.21071 13.5304 1 13 1H3C2.46957 1 1.96086 1.21071 1.58579 1.58579C1.21071 1.96086 1 2.46957 1 3V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H13C13.5304 19 14.0391 18.7893 14.4142 18.4142C14.7893 18.0391 15 17.5304 15 17V16",stroke:"#EA2036",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.99"})})}h.defaultProps={className:""},h.propTypes={className:a().string};var O=b(90706),q=b(25675),P=b.n(q),Q=b(37685),R=b(21017),r=b(45652),S=b.n(r),T=b(2231);function i(a){var b=a.data,c=a.goToDetail;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("h3",{className:S().headerSection,children:"Notifikasi"}),(0,z.jsx)(Q.l,{className:S().carousel,slideGap:"md",slideSize:"85%",styles:{control:{"&[data-inactive]":{opacity:0,cursor:"default"}}},children:null==b?void 0:b.map(function(a,b){return(0,z.jsx)(Q.l.Slide,{className:[S().slides,0===b&&S().alignStart].join(" "),children:(0,z.jsxs)(R.Z,{className:S().card,radius:"md",shadow:"md",children:[(0,z.jsx)(R.Z.Section,{children:(0,z.jsx)(P(),{alt:"carousel-banner",height:260,priority:!0,src:(null==a?void 0:a.banner)||"/merchant/assets/img/default-banner-notification.png",width:600})}),(0,z.jsx)("h4",{className:a.content?S().ellipsis:S().newLineEllipsis,children:null==a?void 0:a.title}),(0,z.jsxs)("div",{className:[S().btnAction,a.content?"":S().hide].join(" "),"data-testid":"btnDetail".concat(a.id),onClick:function(){a.content&&c(null==a?void 0:a.id)},children:[(0,z.jsx)("span",{children:"Lihat Rincian"}),(0,z.jsx)("span",{children:(0,z.jsx)(T.Z,{})})]})]})},"".concat(b).concat(a.id))})})]})}function j(a){var f=a.errorMsg,c=a.fetchVerificationNik,s=a.handleRegisterUser,g=a.handleSubmitNik,j=a.disableBtn,d=a.data,k=a.setErrorMsg,l=a.setSearchNik,m=a.alertError,n=a.setAlertError,o=a.seconds,p=a.minutes,t=a.setModalLogout,b=a.dataNotif,q=a.goToDetail,r=a.isCarouselShow,e=a.dataMerchant;return(0,z.jsxs)(z.Fragment,{children:[!e.isFetching&&(0,z.jsx)(M,{alertError:m,data:null==d?void 0:d.data,dataMerchant:e,disableBtn:j,errorMsg:f,fetchVerificationNik:c,handleSubmitNik:g,isLoading:c.isLoading,minutes:p,seconds:o,setAlertError:n,setErrorMsg:k,setSearchNik:l}),(0,z.jsx)("br",{}),(0,z.jsx)("hr",{className:N().separator}),(0,z.jsxs)("div",{className:N().middleContainer,children:[(0,z.jsx)("div",{className:N().iconWrapper,children:(0,z.jsx)(P(),{alt:"illustration register customer",height:"130px",priority:!0,src:"/merchant/assets/img/illu-register-customer.png",width:"130px"})}),(0,z.jsxs)("div",{className:N().actionWrapper,children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("b",{children:"Pelanggan Belum Terdaftar?"}),(0,z.jsx)("p",{children:"Daftarkan pelanggan rumah tangga atau usaha mikro untuk dapat transaksi LPG 3 Kg"})]}),(0,z.jsx)(O.Z,{className:N().customButton,dataTestid:"daftarPelanggan-btn-id",onClick:function(){return s(!1,"menu-reg")},variant:"outlined",children:"Daftarkan Pelanggan Baru"})]})]}),!r&&(null==b?void 0:b.length)>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("hr",{className:N().separator}),(0,z.jsx)("br",{}),(0,z.jsx)(i,{data:b,goToDetail:q}),(0,z.jsx)("br",{})]}),(0,z.jsx)("hr",{className:N().separator}),(0,z.jsx)("br",{}),(0,z.jsxs)("div",{className:N().containerLogout,"data-testid":"btnLogout",onClick:function(){return t(!0)},children:[(0,z.jsx)(h,{}),(0,z.jsx)("span",{children:(0,z.jsx)("b",{children:"Keluar Akun"})})]}),(0,z.jsx)("br",{}),(0,z.jsx)("br",{})]})}i.defaultProps={data:[],goToDetail:function(){}},i.propTypes={data:a().array,goToDetail:a().func},j.defaultProps={alertError:!1,data:{},dataMerchant:{},dataNotif:[],disableBtn:!1,disableBtnManual:!1,errorMsg:{},fetchStatusManualTrX:{},fetchVerificationNik:{},goToDetail:function(){},goToFaq:function(){},goToManualTrx:function(){},handleRegisterUser:function(){},handleSubmitNik:function(){},isCarouselShow:!1,minutes:0,seconds:0,setActiveTab:function(){},setAlertError:function(){},setErrorMsg:function(){},setModalLogout:function(){},setSearchNik:function(){}},j.propTypes={alertError:a().bool,data:a().oneOfType([a().object,a().array,]),dataMerchant:a().object,dataNotif:a().array,disableBtn:a().bool,disableBtnManual:a().bool,errorMsg:a().object,fetchStatusManualTrX:a().object,fetchVerificationNik:a().object,goToDetail:a().func,goToFaq:a().func,goToManualTrx:a().func,handleRegisterUser:a().func,handleSubmitNik:a().func,isCarouselShow:a().bool,minutes:a().number,seconds:a().number,setActiveTab:a().func,setAlertError:a().func,setErrorMsg:a().func,setModalLogout:a().func,setSearchNik:a().func};var s=b(28695),U=b.n(s),V=b(5882),W=b(17617),X=b(69734),Y=b(11163),Z=b(46289),$=b(77074),_=b(1466),aa=b(24577),ab=b(77196),ac=b(25449),ad=b(72550),ae=b(41129),af=b(70733),ag=b(3751),t=b(3243),ah=b.n(t),ai=b(38623),aj=b(73723),ak=b(17577),al=function(){return(0,z.jsx)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,z.jsx)("path",{d:"M18.2812 5.71875C18.6696 6.10708 18.6696 6.73667 18.2812 7.125L13.4062 12L18.2812 16.875C18.6696 17.2633 18.6696 17.8929 18.2812 18.2812V18.2812C17.8929 18.6696 17.2633 18.6696 16.875 18.2812L12 13.4062L7.125 18.2812C6.73667 18.6696 6.10708 18.6696 5.71875 18.2812V18.2812C5.33042 17.8929 5.33042 17.2633 5.71875 16.875L10.5938 12L5.71875 7.125C5.33042 6.73667 5.33042 6.10708 5.71875 5.71875V5.71875C6.10708 5.33042 6.73667 5.33042 7.125 5.71875L12 10.5938L16.875 5.71875C17.2633 5.33042 17.8929 5.33042 18.2812 5.71875V5.71875Z"})})},am=b(25935);function k(a){var b,c=a.dataNotif,f=a.auth,g=a.setAuth,h=a.setPopupNotif,i=a.goToDetail,d=(0,l.useState)(0),j=d[0],k=d[1],m={thumb:{backgroundColor:"#0F6EB5"},root:{height:365,padding:"1rem 1rem 0 1rem"}},e=(0,l.useState)({txtImage:!0,img:!0}),n=e[0],o=e[1],p=function(){var a=(0,w.Z)({},f);a.isNotifTnc=!1,h(!1),g(a)};return(0,z.jsx)("div",{className:ah().notif,children:!c.loading&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ak.a,{className:ah().overlay,color:"#000"}),(0,z.jsx)("div",{className:ah().carouselWrapper,children:(0,z.jsx)(Q.l,{className:ah().carousel,onSlideChange:function(a){k(a)},slideGap:"xs",slideSize:"300px",styles:{slide:{backgroundColor:"transparent",color:"white",opacity:1,borderRadius:"12px",padding:".5rem",position:"relative"},indicator:{width:"10px",height:"10px"}},withControls:!1,withIndicators:!0,children:null==c?void 0:null===(b=c.data)|| void 0===b?void 0:b.map(function(b,c){var d,a;return(0,z.jsxs)(Q.l.Slide,{children:[(d=b.type,a=b,({"text-image":(0,z.jsxs)(R.Z,{className:ah().card,children:[(0,z.jsxs)(R.Z.Section,{children:[n.txtImage&&(0,z.jsx)(ai.O,{height:140,width:284}),(0,z.jsx)(P(),{alt:"image-banner",height:n.txtImage?0:176,onLoadingComplete:function(){return o(function(a){return(0,x.Z)((0,w.Z)({},a),{txtImage:!1})})},priority:!0,src:(null==a?void 0:a.banner)||"/merchant/assets/img/default-banner-notification.png",width:n.txtImage?0:314})]}),(0,z.jsxs)(R.Z.Section,{className:ah().cardBody,children:[(0,z.jsx)("p",{className:ah().title,children:null==a?void 0:a.title}),(0,z.jsx)(aj.x,{className:ah().scrollbarArea,h:140,styles:{thumb:m.thumb},type:"auto",children:(null==a?void 0:a.description)||"Tidak ada deskripsi"})]}),(0,z.jsx)("br",{}),(0,z.jsx)(G.Z,{className:ah().btnDetail,dataTestid:"btnDetail".concat(null==a?void 0:a.id),onClick:function(){return i(null==a?void 0:a.id)},children:"Lihat Rincian"})]}),text:(0,z.jsxs)(R.Z,{className:ah().card,children:[(0,z.jsx)(R.Z.Section,{className:ah().cardBody,children:(0,z.jsxs)(aj.x,{styles:m,type:"auto",children:[(0,z.jsx)("h3",{children:null==a?void 0:a.title}),(0,z.jsx)("br",{}),(0,am.ZP)((null==a?void 0:a.content)||"")]})}),(0,z.jsx)("br",{}),(0,z.jsx)(G.Z,{className:ah().btnDetail,dataTestid:"btnDetail".concat(null==a?void 0:a.id),onClick:function(){return i(null==a?void 0:a.id)},children:"Lihat Rincian"})]}),image:(0,z.jsxs)("div",{className:ah().imageWrapperContent,children:[n.img&&(0,z.jsx)(ai.O,{height:450,width:284}),(0,z.jsx)(P(),{alt:"notif-image",className:ah().imageContent,layout:"fill",onLoadingComplete:function(){return o(function(a){return(0,x.Z)((0,w.Z)({},a),{img:!1})})},priority:!0,src:(null==a?void 0:a.imageContent)||"/merchant/assets/img/default-banner-notification.png"})]})})[d]),j===c&&(0,z.jsx)("span",{className:ah().iconClose,"data-testid":"btnClose".concat(b.id),onClick:p,children:(0,z.jsx)(al,{})})]},c)})})})]})})}k.propTypes={auth:a().object,dataNotif:a().object,goToDetail:a().func,setAuth:a().func,setPopupNotif:a().func},k.defaultProps={auth:{},dataNotif:{},goToDetail:function(){},setAuth:function(){},setPopupNotif:function(){}};var an=b(64807),e=function(am){var f,g,h,i,m,n,o,p,q=am.env,u=(0,Y.useRouter)(),v=(0,l.useRef)(!0),C=(0,l.useContext)($.V),a=C.auth,ao=C.setAuth,D=(0,l.useContext)(Z.A),ap=D.customer,aS=D.setCustomer,aT=(0,l.useContext)(aa.z).setToastr,E=(0,l.useState)(),aU=E[0],aV=E[1],aq=(0,y.Z)((0,_.ZP)("regFrom",""),2),aW=aq[1],F=(0,l.useState)(!1),ar=F[0],as=F[1],G=(0,l.useState)(!!q.openModal&&q.openModal),at=G[0],au=G[1],H=(0,l.useState)(!1),av=H[0],aw=H[1],I=(0,l.useState)(!1),ax=I[0],ay=I[1],J=(0,l.useState)(!1),az=J[0],aA=J[1],K=(0,l.useState)(""),c=K[0],aB=K[1],L=(0,l.useState)({}),aC=L[0],aD=L[1],M=(0,l.useState)(!1),aE=M[0],aF=M[1],N=(0,l.useState)(an.Ox),aG=N[0],aH=N[1],O=(0,y.Z)((0,_.ZP)("customerTypeChecked",aG),2),aI=O[0],P=O[1],aJ=(0,y.Z)((0,_.ZP)("history_transaksi",{}),2),aX=aJ[1],aK=(0,y.Z)((0,_.ZP)("manage_stock_lpg",""),2),aY=aK[1],Q=(0,l.useState)(""),r=Q[0],aZ=Q[1],R=(0,l.useState)(!1),aL=R[0],S=R[1],T=(0,l.useState)("single"),ah=T[0],a$=T[1],ai=(0,l.useState)({}),aM=ai[0],a_=ai[1],aN=new Date,s=(0,ag.useTimer)({expiryTimestamp:aN,onExpire:function(){as(!1),aF(!1)},autoStart:!1}),aO=s.seconds,aP=s.minutes,a0=s.restart,a1=function(a){1===a.customerTypes.length&&(a4(a.customerTypes,3).length>0||a4(a.customerTypes,1).length>0)?(a$("single"),a_(a.customerTypes[0]),aA(!0)):a.customerTypes.length>1&&(a4(a.customerTypes,3).length>0||a4(a.customerTypes,1).length>0)&&(a$("multiple"),aA(!0))},a2=function(e){var c,d,a=null==e?void 0:e.data,f=null===(d=null==a?void 0:null===(c=a.customerTypes)|| void 0===c?void 0:c.filter(function(a){return(null==a?void 0:a.status)===2}))|| void 0===d?void 0:d.map(function(a){return null==a?void 0:a.name}),b=(0,x.Z)((0,w.Z)({},a),{customerType:f});b.customerType.length>=2&&(null==a?void 0:a.isCompleted)?aw(!0):0===b.customerType.length?a1(a):(P(b.customerType[0]||""),b.isAgreedTermsConditions?a.isCompleted?u.push("/app/sale"):u.push("/app/update-data-customer"):u.push("/app/registration/term-condition?isAggrement=true")),aS((0,w.Z)({registeredNIK:null==aU?void 0:aU.unregisteredNIK},b)),aF(!1)},d=V.i(null==a?void 0:a.accessToken,r,function(a){if((null==a?void 0:null===(r=a.response)|| void 0===r?void 0:null===(s=r.data)|| void 0===s?void 0:s.code)===429){var b,c,d,e,f,r,s,g,h,i,j,k,l,m,n,o,p,q=new Date;q.setSeconds(q.getSeconds()+(null==a?void 0:null===(n=a.response)|| void 0===n?void 0:null===(o=n.data)|| void 0===o?void 0:null===(p=o.data)|| void 0===p?void 0:p.countdownTime)),a0(q),as(!0),aD({})}else(null==a?void 0:null===(g=a.response)|| void 0===g?void 0:null===(h=g.data)|| void 0===h?void 0:null===(i=h.message)|| void 0===i?void 0:i.includes("NIK tidak valid"))?(aD({message:null==a?void 0:null===(b=a.response)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.message}),aF(!1)):(null==a?void 0:null===(j=a.response)|| void 0===j?void 0:null===(k=j.data)|| void 0===k?void 0:k.code)===404?(au(!0),aF(!1)):a.success?(null==a?void 0:null===(d=a.data)|| void 0===d?void 0:null===(e=d.customerTypes)|| void 0===e?void 0:e.length)!==0&&(null==a?void 0:null===(f=a.data)|| void 0===f?void 0:f.customerTypes)?a2(a):aT({isOpen:!0,message:"Data tidak ditemukan",color:"error"}):(null==a?void 0:null===(l=a.response)|| void 0===l?void 0:null===(m=l.data)|| void 0===m?void 0:m.success)||aF(!1)}),aj=V.f(null==c?void 0:c.replace(/\s+/g,""),null==a?void 0:a.accessToken),a3=W.hx(null==a?void 0:a.accessToken),b=X.J(null==a?void 0:a.accessToken),e=W.cR(null==a?void 0:a.accessToken),aQ=null==e?void 0:null===(f=e.data)|| void 0===f?void 0:null===(g=f.data)|| void 0===g?void 0:g.province,a4=function(a,b){return a.filter(function(a){return a.status===b})},ak=function(){u.push("/faq?category=all&type=page_main")},aR=function(b){v.current=!1;var a,c=null==b?void 0:null===(a=b.nik)|| void 0===a?void 0:a.replace(/\s+/g,"");aV({unregisteredNIK:c}),aF(!0),ac.B({action:"verification nik"}),aZ(c)},t=function(a,b,c){aW(b||"reg"),"Yes"===a?(aS((0,x.Z)((0,w.Z)({},aU),{status:c})),u.push("/app/registration/select-customer-type")):(aS(a||{}),u.push("/app/registration/verification-nik"))},al=function(a){u.push("/app/notification-detail?notifId=".concat(a))};return((0,l.useEffect)(function(){c.length>=8&&c.length<20&&aj.refetch()},[null==c?void 0:c.length]),(0,l.useEffect)(function(){r.length>15&&!v.current&&(d.refetch(),aZ(""))},[null==r?void 0:r.length,v.current]),(0,l.useEffect)(function(){aS({empty:!0}),localStorage.removeItem("first_step_register_nik"),localStorage.removeItem("term_condition_step"),localStorage.removeItem("default_file"),aX({}),as(!1),aY(""),a.isNotifTnc&&a3.refetch()},[]),"test"===q.mode)?(v.current=!1,(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{"data-testid":"sbmt-btn",hidden:!0,onClick:function(){return aR({nik:"1234567812345678"})},children:"on"}),(0,z.jsx)("div",{"data-testid":"regist-btn",hidden:!0,onClick:function(){return t("test")},children:"on"}),(0,z.jsx)("div",{"data-testid":"regist-btn-2",hidden:!0,onClick:function(){return t("Yes")},children:"on"}),(0,z.jsx)("div",{"data-testid":"change-search-nik-btn",hidden:!0,onClick:function(){return aB(q.case)},children:"on"})]})):(0,z.jsxs)(A.W,{className:U().cardTop,px:"0",py:"0",size:"sm",children:[(0,z.jsx)(ae.E,{goToFaq:ak}),(0,z.jsxs)(A.W,{className:U().verifContainer,children:[(0,z.jsx)("br",{}),(0,z.jsx)("div",{className:U().verifContainerDiv,children:(0,z.jsx)(j,{alertError:ar,data:null==aj?void 0:aj.data,dataMerchant:(0,w.Z)({isFetching:!1},null==e?void 0:null===(h=e.data)|| void 0===h?void 0:h.data),dataNotif:null==b?void 0:null===(i=b.data)|| void 0===i?void 0:i.data,disableBtn:aE,errorMsg:aC,fetchVerificationNik:d,goToDetail:al,goToFaq:ak,handleRegisterUser:t,handleSubmitNik:aR,isCarouselShow:(null==a?void 0:a.isNotifTnc)||!1,minutes:aP,seconds:aO,setAlertError:as,setDisableBtn:aF,setErrorMsg:aD,setModalLogout:S,setSearchNik:aB})})]}),(null==a?void 0:a.isNotifTnc)&&(null==b?void 0:null===(m=b.data)|| void 0===m?void 0:null===(n=m.data)|| void 0===n?void 0:n.length)>0&&(0,z.jsx)(k,{auth:a,dataNotif:{data:null==b?void 0:null===(o=b.data)|| void 0===o?void 0:o.data},goToDetail:al,setAuth:ao}),(null==a?void 0:a.isNotifTnc)&&(0,z.jsx)(B.f,{overlayColor:"#000",visible:b.isFetching}),(0,z.jsx)(ab.S1,{handleRegisNIK:t,modal:at,setModal:au}),(0,z.jsx)(af.Z,{modalLogout:aL,setModalLogout:S}),(0,z.jsx)(ab.OR,{modalUpdate:ax,router:u,setCustomerTypeChecked:P,setModalUpdate:ay}),(0,z.jsx)(ab.YW,{customer:ap||{},customerTypeChecked:aI,modalType:av,router:u,setCheck:aH,setCustomerTypeChecked:P,setModaltype:aw}),(0,z.jsx)(ad.u,{areaMerchant:aQ,data:"single"===ah?aM:null==d?void 0:null===(p=d.data)|| void 0===p?void 0:p.data,fetchVerificationNik:d,goToReg:t,modalStatus:az,setModalStatus:aA,variant:ah})]})},ao=e;e.defaultProps={env:{mode:"act"}},e.propTypes={env:a().object}},69734:function(c,b,a){"use strict";a.d(b,{"$":function(){return i},J:function(){return h}});var d=a(15886),e=a(97397),f="application/json",g="https://api-map.my-pertamina.id",h=function(c,a){var b={url:"".concat(g).concat(e.f["/notification"]),method:"GET",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"getListNotification",notHandledErr:!0,noToast:!0};return d.eO(b,a)},i=function(h,a,b){var c={url:"".concat(g).concat(e.f["/notification"],"/").concat(a),method:"GET",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"getDetailNotification"};return d.eO(c,b)}},17617:function(c,b,a){"use strict";a.d(b,{"$J":function(){return n},Ab:function(){return s},Md:function(){return l},OO:function(){return p},OP:function(){return q},UG:function(){return o},cR:function(){return j},eo:function(){return m},hx:function(){return i},iX:function(){return t},kS:function(){return k},sN:function(){return u},wv:function(){return r},x4:function(){return h}});var d=a(15886),e=a(97397),f="application/json",g="https://api-map.my-pertamina.id",h=function(a){var b={url:"".concat(g).concat(e.f["/login"]),method:"POST",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"login"};return d.w(b,a)},i=function(a){var b={url:"".concat(g).concat(e.f["/registration/tnc"]),method:"GET",headers:{Authorization:"Bearer ".concat(a)},key:"getTnCRegistrationCustomer"};return d.$c(b)},j=function(a){var b={url:"".concat(g).concat(e.f["/profile"]),method:"GET",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"getDataMerchantMptm"};return d.eO(b)},k=function(a,b){var c={url:"".concat(g).concat(e.f["/logout"]),method:"DELETE",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"logout",message:{success:"Logout berhasil",error:"Ada kesalahan ketika melakukan logout"}};return d.w(c,b)},l=function(a,b){var c={url:"".concat(g).concat(e.f["/forget-pin"]).concat(a),method:"GET",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"ForgetPin"};return d.R2(c,b)},m=function(a,b){var c={url:"".concat(g).concat(e.f["/users"],"/").concat(a,"/pin"),method:"PUT",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"resetPinUser"};return d.w(c,b)},n=function(c,a){var b={url:"".concat(g).concat(e.f["/new-pin"]),method:"POST",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"newPinUser"};return d.w(b,a)},o=function(a,b){var c={url:"".concat(g).concat(e.f["/activation-mypertamina-payment"]),method:"POST",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"submitMyptmActivation"};return d.w(c,b)},p=function(a,b){var c={url:"".concat(g).concat(e.f["/pin"]),method:"PATCH",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"changePIN"};return d.w(c,b)},q=function(a,b){var c={url:"".concat(g).concat(e.f["/onboarding/id-card"]),method:"POST",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"createIdCardUser"};return d.w(c,b)},r=function(a,b,c){var h={url:"".concat(g).concat(e.f["/check-suspend"]),method:"GET",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},params:{date:b},key:"getInfoSuspend"};return d.R2(h,c)},s=function(a){var b={url:"".concat(g).concat(e.f["/onboarding/update-location"]),method:"PUT",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"updateLocationMerchant"};return d.w(b)},t=function(a,b){var c={url:"".concat(g).concat(e.f["/onboarding/add-product-lpg"]),method:"POST",headers:{"Content-Type":f,Authorization:"Bearer ".concat(a)},key:"onboarding"};return d.w(c,b)},u=function(a){var b={url:"".concat(g).concat(e.f["/maintenance"]),method:"GET",headers:{"Content-Type":f,Authorization:"Basic dGVsa29tOmRhMWMyNWQ4LTM3YzgtNDFiMS1hZmUyLTQyZGQ0ODI1YmZlYQ=="},key:"getDataMerchantMptm"};return d.eO(b,a)}},65612:function(a){a.exports={spinner:"style_spinner__HFVr_","spinner-zp9dbg":"style_spinner-zp9dbg__C5FMH",red:"style_red__ZWFE2",blue:"style_blue__vQsOX",sm:"style_sm__XYUgc",md:"style_md__UAe59",lg:"style_lg__pbGwM"}},85252:function(a){a.exports={btnBayar:"styles_btnBayar__o4O4A",verifNikInput:"styles_verifNikInput__QtkSm",formContainer:"styles_formContainer__IXG1W",headerForm:"styles_headerForm__t7P4g",dropdown:"styles_dropdown__XlVbJ",dropdownItem:"styles_dropdownItem__rvxf3",dropdownScroll:"styles_dropdownScroll__IFvsv",alertContainer:"styles_alertContainer__kIoif",iconAlert:"styles_iconAlert__D5GwK",custAutocomplete:"styles_custAutocomplete__Ve5Wv"}},91823:function(a){a.exports={modalLogout:"styles_modalLogout__H5aYF",btnActionLogoutContainer:"styles_btnActionLogoutContainer___Vurd",btnLogoutModal:"styles_btnLogoutModal__fCj0l"}},45652:function(a){a.exports={headerSection:"styles_headerSection__ZXDnW",slides:"styles_slides__ZN_iL",card:"styles_card___F6Xm",newLineEllipsis:"styles_newLineEllipsis__Tbg6y",ellipsis:"styles_ellipsis__XDVIu",btnAction:"styles_btnAction__o8sLu",hide:"styles_hide__PegRW"}},3243:function(a){a.exports={notif:"styles_notif__2XsNl",card:"styles_card__Lkxj6",title:"styles_title__9FDfn",cardBody:"styles_cardBody__49Jdt",scrollbarArea:"styles_scrollbarArea__4sugB",imageWrapperContent:"styles_imageWrapperContent__9ER7j",imageContent:"styles_imageContent__AV61T",btnDetail:"styles_btnDetail__SSmVz",overlay:"styles_overlay__ejzXV",carousel:"styles_carousel___eH7U",carouselWrapper:"styles_carouselWrapper__dnIVw",iconClose:"styles_iconClose__ZjGFM"}},7973:function(a){a.exports={btnDaftar:"styles_btnDaftar__emXkK",separator:"styles_separator__eESKr",loading:"styles_loading__YKZo1",alert:"styles_alert__OX4Ym",content:"styles_content__XQ6zj",middleContainer:"styles_middleContainer__B6cQt",customButton:"styles_customButton__fslta",iconWrapper:"styles_iconWrapper__CWGYr",actionWrapper:"styles_actionWrapper__MuMok",bottomContainer:"styles_bottomContainer__O_iym",containerLogout:"styles_containerLogout__djB6S",logout:"styles_logout__SO72A",trxManual:"styles_trxManual__mdgmM",constainerMenu:"styles_constainerMenu__3Wq63",iconMenu:"styles_iconMenu__GDWny"}}},function(a){a.O(0,[9584,7038,6148,7536,4457,5675,665,3733,3057,3802,9774,2888,179],function(){var b;return a(a.s=95554)}),_N_E=a.O()}])