(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{80061:function(e,b,a){"use strict";a.d(b,{o:function(){return d}});var c=a(67294),f=a(66261),g=a(94151),h=Object.defineProperty,i=Object.defineProperties,j=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,n=(a,b,c)=>b in a?h(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,o=(c,a)=>{for(var b in a||(a={}))l.call(a,b)&&n(c,b,a[b]);if(k)for(var b of k(a))m.call(a,b)&&n(c,b,a[b]);return c},p=(a,b)=>i(a,j(b)),q=(b,d)=>{var c={};for(var a in b)l.call(b,a)&&0>d.indexOf(a)&&(c[a]=b[a]);if(null!=b&&k)for(var a of k(b))0>d.indexOf(a)&&m.call(b,a)&&(c[a]=b[a]);return c};let r={type:"text",size:"sm",__staticSelector:"TextInput"},d=(0,c.forwardRef)((b,d)=>{let a=(0,f.k)("TextInput",r,b),{inputProps:e,wrapperProps:h}=a,i=q(a,["inputProps","wrapperProps"]);return c.createElement(g.I.Wrapper,o({},h),c.createElement(g.I,p(o(o({},e),i),{ref:d})))});d.displayName="@mantine/core/TextInput"},29229:function(c,a,b){"use strict";var d,e=b(67294);function f(){return(f=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}a.Z=function(a){return e.createElement("svg",f({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{d:"M10.587 6.193 8 8.78 5.413 6.193a.664.664 0 1 0-.94.94l3.06 3.06c.26.26.68.26.94 0l3.06-3.06c.26-.26.26-.68 0-.94a.678.678 0 0 0-.946 0Z",fill:"#25282B"})))}},21276:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return c(17790)}])},41978:function(g,d,b){"use strict";b.d(d,{Z:function(){return c}});var h=b(85893),e=b(45697),a=b.n(e),f=b(92653),i=b.n(f);function c(a){var d=a.className,b=a.desc,c=a.title,e=a.type,f=a.children,g=a.variant,j=a.shadow,k=[i().root,i()[e],d,i()[g],j?i().shadow:""].join(" ");return(0,h.jsxs)("div",{className:k,children:[c&&(0,h.jsx)("b",{children:c}),b&&(0,h.jsx)("p",{children:b}),f]})}c.defaultProps={children:null,className:"",desc:"",shadow:!1,title:"",type:"",variant:"outline"},c.propTypes={children:a().node,className:a().string,desc:a().string,shadow:a().bool,title:a().string,type:a().string,variant:a().string}},75059:function(c,b,a){"use strict";a.d(b,{Z:function(){return d.Z}});var d=a(41978)},88847:function(g,d,a){"use strict";var h=a(85893),e=a(65612),i=a.n(e),f=a(45697),b=a.n(f),c=function(a){var b=a.className,c=a.color,d=a.size,e=[i().spinner,i()[c],i()[d]].join(" ");return(0,h.jsx)("div",{className:b,children:(0,h.jsx)("div",{className:e})})};d.Z=c,c.defaultProps={className:"",color:"",size:"sm"},c.propTypes={className:b().string,color:b().string,size:b().string}},78355:function(c,b,a){"use strict";a.d(b,{Z:function(){return d.Z}});var d=a(88847)},69062:function(j,f,b){"use strict";b.d(f,{Z:function(){return e}});var k,l,m=b(85893),n=b(67294),g=b(71485),o=b(20966),p=b(44457),q=b(80061),h=b(45697),a=b.n(h);function c(a){var b=a.className;return(0,m.jsx)("svg",{className:b,fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M11.9999 9.00462C14.209 9.00462 15.9999 10.7955 15.9999 13.0046C15.9999 15.2138 14.209 17.0046 11.9999 17.0046C9.79073 17.0046 7.99987 15.2138 7.99987 13.0046C7.99987 10.7955 9.79073 9.00462 11.9999 9.00462ZM11.9999 10.5046C10.6192 10.5046 9.49987 11.6239 9.49987 13.0046C9.49987 14.3853 10.6192 15.5046 11.9999 15.5046C13.3806 15.5046 14.4999 14.3853 14.4999 13.0046C14.4999 11.6239 13.3806 10.5046 11.9999 10.5046ZM11.9999 5.5C16.6134 5.5 20.596 8.65001 21.701 13.0644C21.8016 13.4662 21.5574 13.8735 21.1556 13.9741C20.7537 14.0746 20.3465 13.8305 20.2459 13.4286C19.307 9.67796 15.9212 7 11.9999 7C8.07681 7 4.68997 9.68026 3.75273 13.4332C3.65237 13.835 3.24523 14.0794 2.84336 13.9791C2.44149 13.8787 2.19707 13.4716 2.29743 13.0697C3.40052 8.65272 7.38436 5.5 11.9999 5.5Z",fill:"#212121"})})}c.defaultProps={className:""},c.propTypes={className:a().string};var i=b(4517),r=b.n(i),s=b(29229);function t(){return(t=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var u=function(a){return n.createElement("svg",t({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),k||(k=n.createElement("path",{d:"M20 10c0 4.418-8 12-8 12s-8-7.582-8-12a8 8 0 1 1 16 0Z",stroke:"#A0A4A8",strokeWidth:1.99})),l||(l=n.createElement("path",{d:"M12 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#A0A4A8",stroke:"#A0A4A8",strokeWidth:1.99,strokeLinecap:"round",strokeLinejoin:"round"})))},v=b(11163);function d(a){var b=a.className;return(0,m.jsx)("svg",{className:b,fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M2.21967 2.21967C1.9534 2.48594 1.9292 2.9026 2.14705 3.19621L2.21967 3.28033L6.25424 7.3149C4.33225 8.66437 2.89577 10.6799 2.29888 13.0644C2.1983 13.4662 2.4425 13.8735 2.84431 13.9741C3.24613 14.0746 3.6534 13.8305 3.75399 13.4286C4.28346 11.3135 5.59112 9.53947 7.33416 8.39452L9.14379 10.2043C8.43628 10.9258 8 11.9143 8 13.0046C8 15.2138 9.79086 17.0046 12 17.0046C13.0904 17.0046 14.0788 16.5683 14.8004 15.8608L20.7197 21.7803C21.0126 22.0732 21.4874 22.0732 21.7803 21.7803C22.0466 21.5141 22.0708 21.0974 21.8529 20.8038L21.7803 20.7197L15.6668 14.6055L15.668 14.604L14.4679 13.4061L11.598 10.5368L11.6 10.536L8.71877 7.65782L8.72 7.656L7.58672 6.52549L3.28033 2.21967C2.98744 1.92678 2.51256 1.92678 2.21967 2.21967ZM10.2041 11.2655L13.7392 14.8006C13.2892 15.2364 12.6759 15.5046 12 15.5046C10.6193 15.5046 9.5 14.3853 9.5 13.0046C9.5 12.3287 9.76824 11.7154 10.2041 11.2655ZM12 5.5C10.9997 5.5 10.0291 5.64807 9.11109 5.925L10.3481 7.16119C10.8839 7.05532 11.4364 7 12 7C15.9231 7 19.3099 9.68026 20.2471 13.4332C20.3475 13.835 20.7546 14.0794 21.1565 13.9791C21.5584 13.8787 21.8028 13.4716 21.7024 13.0697C20.5994 8.65272 16.6155 5.5 12 5.5ZM12.1947 9.00928L15.996 12.81C15.8942 10.7531 14.2472 9.10764 12.1947 9.00928Z",fill:"#212121"})})}d.defaultProps={className:""},d.propTypes={className:a().string};var w=(0,g.k)(function(f,a){var b=a.floating,c=a.disabled,d=a.variant,e=a.rightSection;return{root:{position:"relative"},input:"outline"===d?{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.12)",borderRadius:"12px",fontSize:"1rem",fontFamily:"Poppins, sans-serif"}:{border:"none",borderRadius:"0px",padding:e?"0 0 0 2.5rem !important":"0 !important",fontSize:"1rem",borderBottom:c?"2px solid #CACCCF":"2px solid #A0A4A8",boxShadow:"0px 0px 0px rgba(0, 0, 0, 0.12)",fontFamily:"Poppins, sans-serif","&::placeholder":{transition:"color 150ms ease",color:b?void 0:"transparent"},"&.error":{borderBottom:"2px solid #E32935"}},required:{transition:"opacity 150ms ease",opacity:b?1:0},svg:{fill:c?"#A0A4A8":"#CACCCF"}}});function e(a){var l,t,S=a.clearErrors,h=a.data,f=a.defaultValue,i=a.disabled,A=a.env,T=a.setValue,x=a.placeholder,U=a.name,j=a.label,B=a.className,b=a.type,e=a.errors,I=a.floatingMode,k=a.required,y=a.formProps,C=a.rightSection,J=a.inputMode,V=a.setOpenMap,D=a.searchable,W=a.validateBank,K=a.maxLength,E=a.nothingFound,g=a.readOnly,X=a.withDropDown,Y=a.showDropDown,F=a.variant,L=a.itemComponent,M=a.onKeyUp,N=a.info,Z=a.shouldValidate,O=(0,n.useState)(!I&&!!f),$=O[1],z=w({floating:!0,disabled:i,variant:F,rightSection:C}).classes,G=(0,n.useState)(!1),P=G[0],_=G[1],H=(0,n.useState)(!0),aa=(H[0],H[1]),Q="check-bank",ab=(0,v.useRouter)(),R=function(a){["0","1","2","3","4","5","6","7","8","9","Backspace","ArrowLeft","ArrowRight","Control","Tab"].includes(a.key)||a.preventDefault()},ac=function(a){"select"===b||"customSelect"===b?(S(U),T(U,a)):(S(U),$(!0),T(U,a.target.value,{shouldValidate:Z}))};return((0,n.useEffect)(function(){"field"===b&&$(!0)},[]),(0,n.useEffect)(function(){if(Y){var a=X.filter(function(a){return a.value.includes(f)});setFilteredDataDropdown(a),aa(!0)}Y||aa(!1)},[f]),(null==A?void 0:A.mode)==="test")?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{"data-testid":"btnBlockInvalidChar1",onClick:function(){return R(A.e)},children:"blockInvalidChar1"}),(0,m.jsx)("div",{"data-testid":"btnBlockInvalidChar2",onClick:function(){return R(A.e)},children:"blockInvalidChar2"}),(0,m.jsx)("div",{"data-testid":"btnHandleChangeInput",onClick:function(){return ac(A.type)},children:"handleChangeInput"})]}):"select"===b?(0,m.jsx)(p.Ph,{className:B,classNames:z,data:h,"data-testid":"select-component",defaultValue:f||(null===(l=h[0])|| void 0===l?void 0:l.value)||[],disabled:i,error:Object.keys(e).length>0&&e.message||"",label:j,nothingFound:E,onChange:function(a){ac(a)},placeholder:x,readOnly:g,ref:y.ref,rightSection:g?"":(0,m.jsx)(s.Z,{}),searchable:D,styles:{rightSection:{pointerEvents:"none"}},value:f,withAsterisk:k}):"customSelect"===b?(0,m.jsx)(p.Ph,{classNames:z,data:h,"data-testid":"select-component",defaultValue:f||(null===(t=h[0])|| void 0===t?void 0:t.value)||[],disabled:i,error:Object.keys(e).length>0&&e.message||"",itemComponent:L,label:j,nothingFound:E,onChange:function(a){ac(a)},onKeyUp:M,placeholder:x,readOnly:g,ref:y.ref,required:k,rightSection:g?"":(0,m.jsx)(s.Z,{}),searchable:D,styles:{rightSection:{pointerEvents:"none"}},value:f,withAsterisk:k}):(0,m.jsxs)("div",{children:[(0,m.jsx)(q.o,{autoComplete:"off",className:"outline"!==F?r().cusSelect:B,classNames:z,"data-testid":"input-component",disabled:i,error:Object.keys(e).length>0&&e.message||"",icon:"field"===b&&C||"",inputMode:J,label:j,maxLength:K,onBlur:function(){if("field"===b)return $(!0);$(!!f)},onChange:function(a){y.onChange(a),ac(a)},onFocus:function(){return Y&&aa(!0)},onKeyDown:"nik"===b||b===Q?R:function(){},placeholder:j&&e.message?"":x,readOnly:g,ref:y.ref,rightSection:"field"!==b&&function(){if("password"===b)return(0,m.jsx)("span",{className:r().iconPassword,"data-testid":"iconShowPassword",onClick:function(){return _(!P)},children:P?(0,m.jsx)(c,{}):(0,m.jsx)(d,{})});if("stock"===b)return(0,m.jsx)("span",{className:r().stockLabel,"data-testid":"stock-icon",onClick:function(){return ab.push("/app/manage-product?stockMode=true")},children:"Atur Stok"});if("coordinate"===b)return(0,m.jsx)("span",{onClick:i?function(){}:function(){return V(!0)},children:C||(0,m.jsx)(u,{})});if(b===Q&&"loading"!==C)return(0,m.jsx)("p",{className:r().checkBank,"data-testid":"check-bank-icon",onClick:function(){return W()},children:"Periksa"});if(b===Q&&"loading"===C)return(0,m.jsx)(o.a,{color:"blue"});else return C}(),type:"password"===b?P?"text":"password":b,withAsterisk:k}),(0,m.jsx)("p",{className:r().infoField,children:N})]})}e.defaultProps={className:"",clearErrors:function(){},clickDropDown:function(){},data:[],defaultValue:"",disabled:!1,env:{mode:"act"},errors:{},floatingMode:!1,formProps:{},info:"",inputMode:"",itemComponent:{},label:"",maxLength:100,name:"",nothingFound:"",onKeyUp:function(){},placeholder:"",readOnly:!1,required:!1,rightSection:"",searchable:!1,setError:function(){},setOpenMap:function(){},setStockMode:function(){},setValue:function(){},shouldValidate:!1,showDropDown:!1,type:"",validateBank:function(){},variant:"outline",withDropDown:[]},e.propTypes={className:a().string,clearErrors:a().func,clickDropDown:a().func,data:a().array,defaultValue:a().oneOfType([a().string,a().number,]),disabled:a().bool,env:a().object,errors:a().object,floatingMode:a().bool,formProps:a().object,info:a().string,inputMode:a().string,itemComponent:a().oneOfType([a().string,a().node,a().object,]),label:a().string,maxLength:a().number,name:a().string,nothingFound:a().string,onKeyUp:a().func,placeholder:a().string,readOnly:a().bool,required:a().bool,rightSection:a().oneOfType([a().string,a().node]),searchable:a().bool,setError:a().func,setOpenMap:a().func,setStockMode:a().func,setValue:a().func,shouldValidate:a().bool,showDropDown:a().bool,type:a().string,validateBank:a().func,variant:a().string,withDropDown:a().array}},59971:function(c,b,a){"use strict";a.d(b,{Z:function(){return d.Z}});var d=a(69062)},49789:function(f,c,a){"use strict";a.d(c,{Z:function(){return b}});var g=a(85893),d=a(45697),e=a.n(d);function b(a){var b=a.className;return(0,g.jsx)("svg",{className:b,fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M14 0.666626C6.63996 0.666626 0.666626 6.63996 0.666626 14C0.666626 21.36 6.63996 27.3333 14 27.3333C21.36 27.3333 27.3333 21.36 27.3333 14C27.3333 6.63996 21.36 0.666626 14 0.666626ZM14 20.6666C13.2666 20.6666 12.6666 20.0666 12.6666 19.3333V14C12.6666 13.2666 13.2666 12.6666 14 12.6666C14.7333 12.6666 15.3333 13.2666 15.3333 14V19.3333C15.3333 20.0666 14.7333 20.6666 14 20.6666ZM15.3333 9.99996H12.6666V7.33329H15.3333V9.99996Z",fill:"#3071D9"})})}b.defaultProps={className:""},b.propTypes={className:e().string}},90424:function(d,b,a){"use strict";a.d(b,{Z:function(){return k}});var e=a(85893),f=a(75059),g=a(49789),c=a(63972),h=a.n(c),i=a(87784),j=a(64807);function k(){var a=navigator.userAgent,b=a.indexOf("iPhone"),c=a.indexOf("Macintosh"),d=a.indexOf("iPad"),k=a.indexOf("Chrome"),l=j.Ar.some(function(b){return a.includes(b)});return(0,i.UH)()?null:(0,e.jsxs)(f.Z,{className:h().alert,type:"info",children:[(0,e.jsx)(g.Z,{})," ",(0,e.jsxs)("span",{children:["Silakan gunakan browser internet jenis ",(b||d||c)&&k&&!l?"Safari":"Google Chrome"," versi terbaru untuk memastikan pengalaman optimal."]})]})}},17790:function(l,f,a){"use strict";a.r(f),a.d(f,{default:function(){return R}});var m=a(26042),n=a(69396),o=a(85893),p=a(72445),q=a(5757),r=a(57547),s=a(51794),t=a(77074),u=a(64713),v=a(24577),w=a(11163),g=a(45697),b=a.n(g),x=a(67294),y=a(3751),z=a(47568),h=a(34051),A=a.n(h),i=a(19214),B=a.n(i),C=a(87536),D=a(59971),E=a(78355),j=a(41664),F=a.n(j),G=a(50259),H=a(20966),I=a(93057),J=a(90424),c=function(a){var c,l,p,d=a.fetchLogin,q=a.disableBtn,w=a.setDisableBtn,y=a.handleLogin,s=a.generateToken,e=a.errorField,K=a.setErrorField,b=(0,C.cI)({mode:"onChange",reValidateMode:"onChange",defaultValues:{username:"",password:""}}),t=b.handleSubmit,f=b.watch,L=b.setValue,g=b.register,u=b.formState,h=b.setError,i=b.clearErrors,j=u.errors,M=(c=(0,G.xX)().executeRecaptcha,{handleReCaptchaVerify:(0,x.useCallback)((l=(0,z.Z)(A().mark(function a(b){var d;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,c(b);case 4:return d=a.sent,a.abrupt("return",d);case 6:case"end":return a.stop()}},a)})),function(a){return l.apply(this,arguments)}),[c])}).handleReCaptchaVerify,v=(p=(0,z.Z)(A().mark(function a(b){var c,d;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return w(!0),a.next=3,M("LOGIN_USER");case 3:c=a.sent,y(d=(0,n.Z)((0,m.Z)({},b),{tokenRecaptcha:c}));case 6:case"end":return a.stop()}},a)})),function(a){return p.apply(this,arguments)}),k=function(a,c){if(e[a]){var b=(0,m.Z)({},e);delete b[a],K(b)}L(a,c)};return(0,o.jsxs)("div",{className:B().LoginForm,children:[(0,o.jsx)(J.Z,{}),(0,o.jsx)("div",{className:B().logoContainer,children:(0,o.jsx)(I.Z,{})}),s&&(0,o.jsxs)("span",{className:B().loaderFcm,children:[(0,o.jsx)(H.a,{color:"blue"})," Loading..."]}),(0,o.jsxs)("form",{className:B().form,onSubmit:t(v),children:[(0,o.jsx)(D.Z,{clearErrors:i,defaultValue:f("username"),errors:j.username||e.username,formProps:g("username",{required:"Wajib diisi"}),label:"Email/No. Handphone",name:"username",placeholder:"Email atau No. Handphone",setError:h,setValue:k}),(0,o.jsx)("br",{}),(0,o.jsx)(D.Z,{clearErrors:i,defaultValue:f("password"),errors:j.password||e.password,formProps:g("password",{required:"Wajib diisi",pattern:{value:/^[0-9]*$/,message:"PIN Anda salah"},validate:function(a){if(a.length<6)return"PIN Anda salah"}}),inputMode:"numeric",label:"PIN (6-digit)",maxLength:6,name:"password",placeholder:"PIN (6-digit)",setError:h,setValue:k,type:"password"}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:B().wrapperLink,children:["Lupa dengan PIN Anda? ",(0,o.jsx)(F(),{className:B().link,href:"/forget-pin",children:"Dapatkan bantuan"})]}),(0,o.jsx)(r.Z,{className:B().btnLogin,color:"primary",disabled:!!q||!!d.isLoading,size:"medium",type:"submit",variant:"contained",children:d.isLoading?(0,o.jsx)(E.Z,{}):"Masuk"})]})]})},K=c;c.defaultProps={disableBtn:!1,errorField:{},fetchLogin:{},generateToken:!1,handleLogin:function(){},setDisableBtn:function(){},setErrorField:function(){},setModalError:function(){},setTimer:function(){},startTimer:function(){}},c.propTypes={disableBtn:b().bool,errorField:b().object,fetchLogin:b().object,generateToken:b().bool,handleLogin:b().func,setDisableBtn:b().func,setErrorField:b().func,setModalError:b().func,setTimer:b().func,startTimer:b().func};var d=function(a){var b=a.disableBtn,c=a.handleLogin,d=a.setDisableBtn,e=a.fetchLogin,f=a.startTimer,g=a.setModalError,h=a.generateToken,i=a.errorField,j=a.setErrorField;return(0,o.jsx)(K,{disableBtn:b,errorField:i,fetchLogin:e,generateToken:h,handleLogin:c,setDisableBtn:d,setErrorField:j,setModalError:g,startTimer:f})},L=d;d.defaultProps={disableBtn:!1,errorField:{},fetchLogin:{},generateToken:!1,handleLogin:function(){},setDisableBtn:function(){},setErrorField:function(){},setModalError:function(){},setTimer:function(){},startTimer:function(){}},d.propTypes={disableBtn:b().bool,errorField:b().object,fetchLogin:b().object,generateToken:b().bool,handleLogin:b().func,setDisableBtn:b().func,setErrorField:b().func,setModalError:b().func,setTimer:b().func,startTimer:b().func};var M=a(17617),k=a(25098),N=a.n(k),O=a(9883),P=a(25137),Q=a(64807),e=function(i){var j=i.env,k=function(a){var b=a.username,c=a.password,d=a.tokenRecaptcha;K.mutate({username:b,pin:c,token:d,fcmToken:D}),C(!0)},l=(0,w.useRouter)(),c=(0,x.useContext)(t.V),R=c.auth,S=c.setAuth,T=(0,x.useContext)(v.z).setToastr,d=(0,x.useState)(!1),z=d[0],A=d[1],e=(0,x.useState)(!1),B=e[0],C=e[1],f=(0,x.useState)(""),D=f[0],U=f[1],g=(0,x.useState)(!1),E=g[0],V=g[1],h=(0,x.useState)({}),F=h[0],G=h[1],a=new Date;a.setSeconds(a.getSeconds());var b=(0,y.useTimer)({expiryTimestamp:a,onExpire:function(){A(!1)},autoStart:!1}),H=b.seconds,I=b.minutes,J=b.restart,K=M.x4(function(a){if(a.success)a.data.isSubsidiProduct||a.data.isDefaultPin||!a.data.accessToken?a.data.isSubsidiProduct&&!a.data.isDefaultPin&&a.data.accessToken&&(C(!0),S((0,n.Z)((0,m.Z)({},a.data),{isNotifTnc:!0})),l.push("/app/verification-nik")):(C(!0),S(a.data),l.push("/app/onboarding"));else{if(null==a?void 0:null===(i=a.response)|| void 0===i?void 0:null===(j=i.data)|| void 0===j?void 0:null===(k=j.message)|| void 0===k?void 0:k.includes("PIN"))G({password:{message:null==a?void 0:null===(s=a.response)|| void 0===s?void 0:null===(t=s.data)|| void 0===t?void 0:t.message}});else if(a.response.data.message.includes("tidak terdaftar"))G({username:{message:null==a?void 0:null===(u=a.response)|| void 0===u?void 0:null===(v=u.data)|| void 0===v?void 0:v.message}});else if(null===(p=a.response)|| void 0===p?void 0:null===(q=p.data)|| void 0===q?void 0:null===(r=q.data)|| void 0===r?void 0:r.countdownTime){A(!0);var i,j,k,p,q,r,b,c,s,t,u,v,d,e,f,g=new Date,h=(null==a?void 0:null===(d=a.response)|| void 0===d?void 0:null===(e=d.data)|| void 0===e?void 0:null===(f=e.data)|| void 0===f?void 0:f.countdownTime)/1e3;g.setSeconds(g.getSeconds()+h),J(g)}else(null==a?void 0:null===(b=a.response)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.code)===400?(T({color:"error",message:(0,o.jsx)("span",{style:{fontSize:"12px"},children:"Maaf, saat ini Anda tidak dapat login ke MerchantApps Pangkalan Pertamina karena akun Anda sedang dalam masa penangguhan."}),time:4e3,isOpen:!0}),G({})):l.push("/auth/login");C(!1)}}),W=(0,O.KL)(P.qe);if((0,x.useEffect)(function(){(null==R?void 0:R.accessToken)?(null==R?void 0:R.isSubsidiProduct)?window.location.replace("/merchant/app/verification-nik"):window.location.replace("/merchant/app/onboarding"):"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window?Notification.requestPermission().then(function(a){"granted"===a?(C(!0),V(!0),(0,P.NI)(W,U,T,C)):T({isOpen:!0,message:"Silahkan aktifkan fitur notifikasi untuk mendapatkan update status pengajuan pencatatan manual secara real-time",color:"warning",time:4e3})}):C(!1)},[]),(0,x.useEffect)(function(){D&&(C(!1),V(!1))},[D]),(0,x.useEffect)(function(){l.prefetch("/app/verification-nik")},[l]),"test"===j.mode){var X={tokenRecaptcha:"",username:"",password:""};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{"data-testid":"sbmt-btn",hidden:!0,onClick:function(){return k(X)},children:"on"})})}return(0,o.jsxs)(u.m,{children:[(0,o.jsx)(s.Z,{description:Q.vd,title:"Login Subsidi Tepat"}),(0,o.jsxs)(p.W,{className:N().root,size:"sm",children:[(0,o.jsx)(L,{disableBtn:B,errorField:F,fetchLogin:K,generateToken:E,handleLogin:k,setDisableBtn:C,setErrorField:G,setModalError:A,startTimer:J}),(0,o.jsx)("div",{className:N().helpWrapper,children:(0,o.jsxs)("span",{children:["Butuh bantuan? ",(0,o.jsx)("span",{className:N().help,onClick:function(){return l.push("/faq?category=all&type=page_login")},children:"Klik disini"})]})}),(0,o.jsxs)(q.u,{centered:!0,className:N().modalErr,onClose:function(){return A(!1)},opened:z,title:(0,o.jsx)("h3",{children:"Gagal masuk akun"}),withCloseButton:!1,children:[(0,o.jsxs)("p",{children:["Akun anda tidak dapat melakukan login karena salah PIN 5 kali. Jika lupa PIN klik"," ",(0,o.jsx)("span",{className:N().linkForgetPin,onClick:function(){return l.push("/forget-pin")},children:"disini."})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("p",{children:["Login kembali setelah ",(0,o.jsxs)("span",{children:[I," menit ",H," detik"]})]}),(0,o.jsx)(r.Z,{className:N().btnModalErr,onClick:function(){return A(!1)},variant:"contained",children:"Mengerti"})]})]})]})},R=e;e.defaultProps={env:{mode:"act"}},e.propTypes={env:b().object}},92653:function(a){a.exports={root:"styles_root__Kggp8",success:"styles_success__0ehEy",outline:"styles_outline__4RqcX",warning:"styles_warning__l83zV",noOutline:"styles_noOutline__0oiTY",important:"styles_important__HfRHv",info:"styles_info__9Xf7I",danger:"styles_danger__d1UzS",shadow:"styles_shadow__maOza"}},65612:function(a){a.exports={spinner:"style_spinner__HFVr_","spinner-zp9dbg":"style_spinner-zp9dbg__C5FMH",red:"style_red__ZWFE2",blue:"style_blue__vQsOX",sm:"style_sm__XYUgc",md:"style_md__UAe59",lg:"style_lg__pbGwM"}},4517:function(a){a.exports={errorMessage:"styles_errorMessage__PjsL9",infoField:"styles_infoField__YeE_s",stockLabel:"styles_stockLabel__jbNr8",cusSelect:"styles_cusSelect__iAG3V",checkBank:"styles_checkBank__7L3YN",outline:"styles_outline__UlTn_",outlin:"styles_outlin__AQMge",iconPassword:"styles_iconPassword__u2yEv"}},19214:function(a){a.exports={LoginForm:"styles_LoginForm__QiuBs",logoContainer:"styles_logoContainer__ba3S1",card:"styles_card__yi3sA",chevron:"styles_chevron__WG7KR",headers:"styles_headers__3aFj5",form:"styles_form__rHqXk",loaderFcm:"styles_loaderFcm__LJdN4",btnLogin:"styles_btnLogin__wsKTT",wrapperLink:"styles_wrapperLink__0zXaQ",wrapperRegisterNow:"styles_wrapperRegisterNow__HhQB5"}},63972:function(a){a.exports={alert:"styles_alert__XV2__"}},25098:function(a){a.exports={root:"styles_root__3v9Qa",btnModalErr:"styles_btnModalErr__0Bjmj",helpWrapper:"styles_helpWrapper__2duyD",help:"styles_help__Ik7SI",modalErr:"styles_modalErr__mlADU",linkForgetPin:"styles_linkForgetPin__gRc_G",faq:"styles_faq__Ahs_V",modalRedirect:"styles_modalRedirect__k_6Hl",topWrapper:"styles_topWrapper__gEcxj"}},3751:function(a,b,c){!function(d,b){a.exports=b(c(67294))}("undefined"!=typeof self?self:this,a=>(()=>{"use strict";var d={156(b){b.exports=a}},e={};function b(a){var f=e[a];if(void 0!==f)return f.exports;var c=e[a]={exports:{}};return d[a](c,c.exports,b),c.exports}b.d=(d,c)=>{for(var a in c)b.o(c,a)&&!b.o(d,a)&&Object.defineProperty(d,a,{enumerable:!0,get:c[a]})},b.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),b.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var c={};return(()=>{b.r(c),b.d(c,{default:()=>k,useStopwatch:()=>i,useTime:()=>j,useTimer:()=>h});var a=b(156);class d{static expiryTimestamp(a){let b=new Date(a).getTime()>0;return b||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",a),b}static onExpire(a){let b=a&&"function"==typeof a;return a&&!b&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",a),b}}class e{static getTimeFromSeconds(b){let a=Math.ceil(b);return{totalSeconds:a,seconds:Math.floor(a%60),minutes:Math.floor(a%3600/60),hours:Math.floor(a%86400/3600),days:Math.floor(a/86400)}}static getSecondsFromExpiry(c,d){let a=c-(new Date).getTime();if(a>0){let b=a/1e3;return d?Math.round(b):b}return 0}static getSecondsFromPrevTime(c,d){let a=(new Date).getTime()-c;if(a>0){let b=a/1e3;return d?Math.round(b):b}return 0}static getSecondsFromTimeNow(){let a=new Date;return a.getTime()/1e3-60*a.getTimezoneOffset()}static getFormattedTimeFromSeconds(d,f){let{seconds:g,minutes:h,hours:a}=e.getTimeFromSeconds(d),b="",c=a;return"12-hour"===f&&(b=a>=12?"pm":"am",c=a%12),{seconds:g,minutes:h,hours:c,ampm:b}}}function f(c,b){let d=(0,a.useRef)();(0,a.useEffect)(()=>{d.current=c}),(0,a.useEffect)(()=>{if(!b)return()=>{};let a=setInterval(()=>{d.current&&d.current()},b);return()=>clearInterval(a)},[b])}function g(a){if(!d.expiryTimestamp(a))return null;let b=e.getSecondsFromExpiry(a),c=Math.floor(1e3*(b-Math.floor(b)));return c>0?c:1e3}function h(){let{expiryTimestamp:l,onExpire:m,autoStart:c=!0}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},[b,r]=(0,a.useState)(l),[h,s]=(0,a.useState)(e.getSecondsFromExpiry(b)),[i,t]=(0,a.useState)(c),[n,u]=(0,a.useState)(c),[o,v]=(0,a.useState)(g(b)),w=(0,a.useCallback)(()=>{d.onExpire(m)&&m(),t(!1),v(null)},[m]),p=(0,a.useCallback)(()=>{t(!1)},[]),j=(0,a.useCallback)(function(a){let b=!(arguments.length>1&& void 0!==arguments[1])||arguments[1];v(g(a)),u(b),t(b),r(a),s(e.getSecondsFromExpiry(a))},[]),k=(0,a.useCallback)(()=>{let a=new Date;a.setMilliseconds(a.getMilliseconds()+1e3*h),j(a)},[h,j]),q=(0,a.useCallback)(()=>{n?(s(e.getSecondsFromExpiry(b)),t(!0)):k()},[b,n,k]);return f(()=>{1e3!==o&&v(1e3);let a=e.getSecondsFromExpiry(b);s(a),a<=0&&w()},i?o:null),{...e.getTimeFromSeconds(h),start:q,pause:p,resume:k,restart:j,isRunning:i}}function i(){let{autoStart:g,offsetTimestamp:h}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},[b,m]=(0,a.useState)(e.getSecondsFromExpiry(h,!0)||0),[i,n]=(0,a.useState)(new Date),[c,o]=(0,a.useState)(b+e.getSecondsFromPrevTime(i||0,!0)),[d,p]=(0,a.useState)(g);f(()=>{o(b+e.getSecondsFromPrevTime(i,!0))},d?1e3:null);let j=(0,a.useCallback)(()=>{let a=new Date;n(a),p(!0),o(b+e.getSecondsFromPrevTime(a,!0))},[b]),k=(0,a.useCallback)(()=>{m(c),p(!1)},[c]),l=(0,a.useCallback)(function(){let c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0,d=!(arguments.length>1&& void 0!==arguments[1])||arguments[1],a=e.getSecondsFromExpiry(c,!0)||0,b=new Date;n(b),m(a),p(d),o(a+e.getSecondsFromPrevTime(b,!0))},[]);return{...e.getTimeFromSeconds(c),start:j,pause:k,reset:l,isRunning:d}}function j(){let{format:b}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},[c,d]=(0,a.useState)(e.getSecondsFromTimeNow());return f(()=>{d(e.getSecondsFromTimeNow())},1e3),{...e.getFormattedTimeFromSeconds(c,b)}}function k(c){if((0,a.useEffect)(()=>{console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")},[]),c.expiryTimestamp){let d=h(c);return{...d,startTimer:d.start,stopTimer:d.pause,resetTimer(){}}}let b=i(c);return{...b,startTimer:b.start,stopTimer:b.pause,resetTimer:b.reset}}})(),c})())}},function(a){a.O(0,[7038,6148,7536,4457,3057,1962,9774,2888,179],function(){var b;return a(a.s=21276)}),_N_E=a.O()}])