(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5947],{25998:function(f,c,a){"use strict";a.d(c,{Z:function(){return b}});var g=a(85893);a(67294);var d=a(45697),e=a.n(d);function b(a){var b=a.className;return(0,g.jsx)("svg",{className:b,fill:"none",height:"14",viewBox:"0 0 8 14",width:"8",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"#3D454D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.99"})})}b.defaultProps={className:""},b.propTypes={className:e().string}},41978:function(g,d,b){"use strict";b.d(d,{Z:function(){return c}});var h=b(85893),e=b(45697),a=b.n(e),f=b(92653),i=b.n(f);function c(a){var d=a.className,b=a.desc,c=a.title,e=a.type,f=a.children,g=a.variant,j=a.shadow,k=[i().root,i()[e],d,i()[g],j?i().shadow:""].join(" ");return(0,h.jsxs)("div",{className:k,children:[c&&(0,h.jsx)("b",{children:c}),b&&(0,h.jsx)("p",{children:b}),f]})}c.defaultProps={children:null,className:"",desc:"",shadow:!1,title:"",type:"",variant:"outline"},c.propTypes={children:a().node,className:a().string,desc:a().string,shadow:a().bool,title:a().string,type:a().string,variant:a().string}},75059:function(c,b,a){"use strict";a.d(b,{Z:function(){return d.Z}});var d=a(41978)},97639:function(g,d,b){"use strict";b.d(d,{Z:function(){return c}});var h=b(85893),i=b(21017),e=b(45697),a=b.n(e),j=b(25998),k=b(93057),f=b(63418),l=b.n(f);function c(a){var c=a.onClick,e=a.title,m=a.subtitle,d=a.type,f=a.rightSection,g=a.isBack,p=a.className,b=a.dataTestId,n=a.leftSection,o=a.centerSection,q=a.columns;return(0,h.jsx)(h.Fragment,{children:"border"===d?(0,h.jsx)(i.Z,{className:l().card,children:(0,h.jsxs)("div",{className:l().cardTitle,children:[(0,h.jsx)("span",{className:l().iconBack,"data-testid":b,onClick:c,children:(0,h.jsx)(j.Z,{})}),(0,h.jsx)("span",{className:l().title,children:e}),(0,h.jsx)("span",{children:f})]})}):"logo"===d?(0,h.jsx)(i.Z,{className:[p,l().defaultCard].join(""),children:(0,h.jsxs)("div",{className:g?l().cardTitle:l().withLogo,children:[g&&(0,h.jsx)("span",{className:l().iconBack,"data-testid":b,onClick:c,children:(0,h.jsx)(j.Z,{})}),(0,h.jsx)("div",{className:l().logoContainer,children:(0,h.jsx)(k.Z,{})})]})}):"withRightSection"===d?(0,h.jsxs)(i.Z,{className:l().cardHeaderColumn,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:l().iconBack,"data-testid":b,onClick:c,children:(0,h.jsx)(j.Z,{})}),(0,h.jsx)("br",{}),(0,h.jsx)("span",{className:l().title,children:e}),(0,h.jsx)("span",{children:m})]}),(0,h.jsx)("span",{children:f})]}):"centerTitle"===d?(0,h.jsxs)(i.Z,{className:l().centerTitle,shadow:"lg",children:[g&&(0,h.jsx)("span",{className:l().iconBack,"data-testid":b,onClick:c,children:(0,h.jsx)(j.Z,{})}),(0,h.jsx)("span",{className:l().title,children:e})]}):"grid"===d?(0,h.jsxs)(i.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(".concat(q,", 1fr)"),alignItems:"center"},children:[n&&(0,h.jsx)("div",{"data-testid":b,children:n}),o&&(0,h.jsx)("div",{"data-testid":b,children:o}),f&&(0,h.jsx)("div",{"data-testid":b,children:f})]}):(0,h.jsxs)(i.Z,{className:l().defaultCardHeader,children:[g&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{className:l().iconBack,"data-testid":b,onClick:c,children:(0,h.jsx)(j.Z,{})})}),(0,h.jsx)("span",{className:l().title,children:e}),(0,h.jsx)("span",{children:m})]})})}c.defaultProps={centerSection:null,className:"",columns:1,dataTestId:"backBtn",isBack:!0,leftSection:null,onClick:function(){},rightSection:"",subtitle:"",title:"",type:""},c.propTypes={centerSection:a().node,className:a().string,columns:a().number,dataTestId:a().string,isBack:a().bool,leftSection:a().node,onClick:a().func,rightSection:a().oneOfType([a().string,a().node]),subtitle:a().string,title:a().string,type:a().string}},34462:function(c,b,a){"use strict";a.d(b,{Z:function(){return d.Z}});var d=a(97639)},44566:function(f,c,a){"use strict";a.d(c,{Z:function(){return b}});var g=a(85893),d=a(45697),e=a.n(d);function b(a){var b=a.className;return(0,g.jsx)("svg",{className:b,fill:"none",height:"21",viewBox:"0 0 21 21",width:"21",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M10.4974 0.917236C15.7901 0.917236 20.0807 5.20784 20.0807 10.5006C20.0807 15.7933 15.7901 20.0839 10.4974 20.0839C5.20467 20.0839 0.914062 15.7933 0.914062 10.5006C0.914062 5.20784 5.20467 0.917236 10.4974 0.917236ZM14.5696 9.78114H6.4238C6.02685 9.78114 5.70505 10.1029 5.70505 10.4999C5.70505 10.8968 6.02685 11.2186 6.4238 11.2186H14.5696C14.9666 11.2186 15.2884 10.8968 15.2884 10.4999C15.2884 10.1029 14.9666 9.78114 14.5696 9.78114Z",fill:"#CF212A"})})}b.defaultProps={className:""},b.propTypes={className:e().string}},49789:function(f,c,a){"use strict";a.d(c,{Z:function(){return b}});var g=a(85893),d=a(45697),e=a.n(d);function b(a){var b=a.className;return(0,g.jsx)("svg",{className:b,fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M14 0.666626C6.63996 0.666626 0.666626 6.63996 0.666626 14C0.666626 21.36 6.63996 27.3333 14 27.3333C21.36 27.3333 27.3333 21.36 27.3333 14C27.3333 6.63996 21.36 0.666626 14 0.666626ZM14 20.6666C13.2666 20.6666 12.6666 20.0666 12.6666 19.3333V14C12.6666 13.2666 13.2666 12.6666 14 12.6666C14.7333 12.6666 15.3333 13.2666 15.3333 14V19.3333C15.3333 20.0666 14.7333 20.6666 14 20.6666ZM15.3333 9.99996H12.6666V7.33329H15.3333V9.99996Z",fill:"#3071D9"})})}b.defaultProps={className:""},b.propTypes={className:e().string}},90424:function(d,b,a){"use strict";a.d(b,{Z:function(){return k}});var e=a(85893),f=a(75059),g=a(49789),c=a(63972),h=a.n(c),i=a(87784),j=a(64807);function k(){var a=navigator.userAgent,b=a.indexOf("iPhone"),c=a.indexOf("Macintosh"),d=a.indexOf("iPad"),k=a.indexOf("Chrome"),l=j.Ar.some(function(b){return a.includes(b)});return(0,i.UH)()?null:(0,e.jsxs)(f.Z,{className:h().alert,type:"info",children:[(0,e.jsx)(g.Z,{})," ",(0,e.jsxs)("span",{children:["Silakan gunakan browser internet jenis ",(b||d||c)&&k&&!l?"Safari":"Google Chrome"," versi terbaru untuk memastikan pengalaman optimal."]})]})}},69206:function(h,e,b){"use strict";b.d(e,{a:function(){return d}});var i=b(85893),j=b(5757),f=b(45697),a=b.n(f),k=b(59971),l=b(57547),m=b(87536),g=b(34218),n=b.n(g),o=b(76362),p=b(20966),q=b(67294),c=function(a){var g=a.msgError,h=a.setMsgError,z=a.handleSubmitCancelTrx,d=a.fetchCancelTransaction,j=a.disableBtn,r=a.minutes,s=a.seconds,t=a.onCloseModal,u=a.alertError,A=a.setAlertError,b=(0,m.cI)({defaultValues:{reason:"",otherReason:"",pin:""}}),e=b.register,v=b.setValue,c=b.watch,w=b.handleSubmit,B=b.setError,x=b.clearErrors,y=b.formState,f=y.errors;return(0,q.useEffect)(function(){h("")},[c("reason"),c("pin")]),(0,q.useEffect)(function(){g&&B("pin",{message:g})},[h,g]),(0,i.jsxs)("form",{onSubmit:w(function(a){z(a),A(!1)}),children:[(0,i.jsx)(o.Z,{autoSize:!0,errors:f.reason,formProps:e("reason",{required:"Wajib diisi"}),label:"Alasan Pembatalan",maxLength:100,minRows:5,name:"reason",placeholder:"Masukkan alasan pembatalan transaksi",required:!0,rows:5,withCounter:!0}),(0,i.jsx)(k.Z,{clearErrors:x,defaultValue:c("pin"),errors:f.pin,formProps:e("pin",{required:"Wajib diisi"}),inputMode:"numeric",label:"PIN (6-digit)",maxLength:6,name:"pin",placeholder:"Masukkan PIN",required:!0,setValue:v,type:"password"}),u&&(0,i.jsxs)("span",{className:n().alertError,children:["Anda telah melakukan percobaan sebanyak 5 kali, coba lagi dalam ","".concat(r,":").concat(s)]}),(0,i.jsxs)("div",{className:n().btnContainer,children:[(0,i.jsx)(l.Z,{className:n().btnChild,dataTestid:"btnSubmit",disabled:""===c("reason")||""===c("pin")||!!d.isLoading||!!j,type:"submit",children:d.isLoading?(0,i.jsx)(p.a,{color:"blue"}):"Batalkan Transaksi"}),(0,i.jsx)(l.Z,{className:n().btnChild,dataTestid:"btnClose",onClick:t,variant:"transparent",children:"Tutup"})]})]})},r=c;function d(a){var c=a.alertError,d=a.setAlertError,e=a.openModal,p=a.setModalCancel,f=a.msgError,g=a.handleSubmitCancelTrx,h=a.fetchCancelTransaction,k=a.disabledBtn,l=a.setMsgError,m=a.setDisabledBtn,n=a.minutes,o=a.seconds,b=function(){p(!1),d(!1)};return(0,i.jsxs)(j.u,{centered:!0,onClose:b,opened:e,styles:{title:{fontWeight:700}},title:"Batalkan Transaksi",withCloseButton:!1,children:[(0,i.jsx)("p",{style:{fontSize:".9rem"},children:"Apakah Anda yakin untuk membatalkan transaksi ini? Masukkan PIN Anda untuk membatalkan transaksi."}),(0,i.jsx)(r,{alertError:c,disabledBtn:k,fetchCancelTransaction:h,handleSubmitCancelTrx:g,minutes:n,msgError:f,onCloseModal:b,seconds:o,setAlertError:d,setDisabledBtn:m,setMsgError:l})]})}c.defaultProps={alertError:!1,disableBtn:!1,fetchCancelTransaction:{},handleSubmitCancelTrx:function(){},minutes:0,msgError:"",onCloseModal:function(){},seconds:0,setAlertError:function(){},setDisableBtn:function(){},setModalCancel:function(){},setMsgError:function(){}},c.propTypes={alertError:a().bool,disableBtn:a().bool,fetchCancelTransaction:a().object,handleSubmitCancelTrx:a().func,minutes:a().number,msgError:a().string,onCloseModal:a().func,seconds:a().number,setAlertError:a().func,setDisableBtn:a().func,setModalCancel:a().func,setMsgError:a().func},d.defaultProps={alertError:!1,disabledBtn:!1,fetchCancelTransaction:{},handleSubmitCancelTrx:a().func,minutes:0,msgError:"",openModal:!1,seconds:0,setAlertError:function(){},setDisabledBtn:function(){},setModalCancel:function(){},setMsgError:function(){}},d.propTypes={alertError:a().bool,disabledBtn:a().bool,fetchCancelTransaction:a().object,handleSubmitCancelTrx:a().func,minutes:a().number,msgError:a().string,openModal:a().bool,seconds:a().number,setAlertError:a().func,setDisabledBtn:a().func,setModalCancel:a().func,setMsgError:a().func}},25658:function(g,d,a){"use strict";a.d(d,{Z:function(){return c}});var h=a(85893),i=a(5757),j=a(90706),e=a(45697),b=a.n(e),f=a(20175),k=a.n(f);function c(a){var c=a.modalConfirmation,d=a.setModalConfirmation,e=a.setModalCancel,b=function(){d(!1)};return(0,h.jsx)(i.u,{centered:!0,onClose:b,opened:c,styles:{title:{fontWeight:500},body:{display:"flex",columnGap:".5rem"}},title:"Apakah Anda yakin ingin membatalkan transaksi ?",withCloseButton:!1,children:(0,h.jsxs)("div",{className:k().btnContainerModal,children:[(0,h.jsx)(j.Z,{className:k().btnConfirmation,dataTestid:"btnCancel",onClick:b,variant:"outlined",children:"Tidak"}),(0,h.jsx)(j.Z,{className:k().btnConfirmation,dataTestid:"btnConfirm",onClick:function(){e(!0),b()},children:"Ya"})]})})}c.propTypes={modalConfirmation:b().bool,setModalCancel:b().func,setModalConfirmation:b().func},c.defaultProps={modalConfirmation:!1,setModalCancel:function(){},setModalConfirmation:function(){}}},42929:function(l,f,a){"use strict";a.d(f,{Z:function(){return e}});var m=a(47568),g=a(34051),n=a.n(g),o=a(85893),p=a(72445),q=a(82846),r=a(20966),h=a(61120),s=a.n(h),t=a(91819),i=a(45697),b=a.n(i),u=a(67294),v=a(87784),w=a(93057),x=a(24577),j=a(69105),y=a.n(j),z=a(5757),A=a(80061),B=a(90706);function c(a){var f=a.setOpenModal,c=a.openModal,g=a.setModalInput,d=a.pdfExport,e=a.handleSave,b=a.loading;return(0,o.jsx)(z.u,{centered:!0,onClose:function(){return f(!1)},opened:c,styles:{title:{fontWeight:"bold"}},title:"Kirim Struk ke Pelanggan",children:(0,o.jsxs)("div",{className:y().insideModal,children:[(0,o.jsx)(B.Z,{onClick:function(){return g(!0)},variant:"outlined",children:"Struk via Nomor WhatsApp"}),(0,o.jsx)(B.Z,{onClick:!b.pdf&&d,variant:"outlined",children:b.pdf?(0,o.jsx)(r.a,{color:"blue"}):"PDF via Aplikasi Lain"}),(0,o.jsx)(B.Z,{onClick:!b.photo&&e,variant:"outlined",children:b.photo?(0,o.jsx)(r.a,{color:"blue"}):"Foto via Aplikasi Lain"})]})})}function d(a){var c=a.modalInput,d=a.setModalInput,b=a.waNumber,e=a.setWaNumber,f=a.openInNewTab,g=a.onChangeWa;return(0,o.jsx)(z.u,{centered:!0,className:y().modalConfirmation,onClose:function(){d(!1),e("")},opened:c,styles:{title:{fontWeight:"bold"}},title:"Masukkan Nomor Whatsapp",children:(0,o.jsxs)("div",{className:y().insideModal,children:[(0,o.jsx)(A.o,{defaultValue:b,label:"Nomor Whatsapp",name:"waNumber",onChange:function(a){return g(a)},placeholder:"Nomor Whatsapp"}),(0,o.jsx)(B.Z,{className:y().btnNext,disabled:!(b.length>=10),onClick:function(){f()},type:"submit",variant:"contained",children:"Kirim"})]})})}c.propTypes={handleSave:b().func,loading:b().object,openModal:b().bool,pdfExport:b().func,setModalInput:b().func,setOpenModal:b().func},c.defaultProps={handleSave:function(){},loading:{pdf:!1,photo:!1},openModal:!1,pdfExport:function(){},setModalInput:function(){},setOpenModal:function(){}},d.propTypes={modalInput:b().bool,onChangeWa:b().func,openInNewTab:b().func,setModalInput:b().func,setWaNumber:b().func,waNumber:b().string},d.defaultProps={modalInput:!1,onChangeWa:function(){},openInNewTab:function(){},setModalInput:function(){},setWaNumber:function(){},waNumber:""};var C=a(44566),D=a(49789),E=a(64807),F=a(90424),k=a(41664),G=a.n(k);function e(b){var e,f,g,h,i,j,k,l,z,A,H,I,J,K,L,M,N,O,P,Q,X,Y,a=b.fetchTransactionDetail,aj=b.setModalConfirmation,R=b.isLoading,Z={pdf:!1,photo:!1},$=(0,u.createRef)(null),ak=(0,u.useContext)(x.z).setToastr,S=(0,u.useState)(!1),_=S[0],aa=S[1],T=(0,u.useState)(!1),ab=T[0],U=T[1],V=(0,u.useState)(""),ac=V[0],ad=V[1],W=(0,u.useState)(Z),ae=W[0],al=W[1],af=E.UH[null==a?void 0:null===(e=a.subsidi)|| void 0===e?void 0:e.category]===E.Ox,ag=(X=(0,m.Z)(n().mark(function a(){return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:al({pdf:!1,photo:!0}),s()(document.querySelector("#capture")).then(function(){var a=(0,m.Z)(n().mark(function a(b){var c,d,e;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.toDataURL("image/png"),a.next=3,fetch(c);case 3:return a.next=5,a.sent.blob();case 5:if(d=a.sent,e=new File([d],"buktipembayaran.png",{type:d.type}),!navigator.canShare){a.next=12;break}return a.next=10,navigator.share({title:"",files:[e]}).then(function(){aa(!1),al(Z)}).catch(function(a){aa(!1),ak({isOpen:!0,message:"".concat("object"==typeof a?a.message:a),color:"error",time:4e3})});case 10:a.next=13;break;case 12:aa(!1),al(Z),ak({isOpen:!0,message:"Gunakan device android dan browser chrome versi terbaru untuk menggunakan fitur kirim bukti ke pelanggan",color:"error"});case 13:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}},a)})),function(){return X.apply(this,arguments)}),ah=(Y=(0,m.Z)(n().mark(function a(){return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:al({pdf:!0,photo:!1}),s()(document.querySelector("#capture")).then(function(){var a=(0,m.Z)(n().mark(function a(b){var c,d,e,f,g,h,i,j;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.toDataURL("image/png"),e=(d=new t.kH({orientation:"portrait",unit:"pt",format:"a5",compress:!0})).internal.pageSize.getWidth(),f=d.internal.pageSize.getHeight(),d.addImage(c,"PNG",0,0,e,f),g=d.output(),h="data:application/pdf;base64,"+btoa(g),a.next=9,fetch(h);case 9:return a.next=11,a.sent.blob();case 11:if(i=a.sent,j=new File([i],"buktiPembayaran.pdf",{type:i.type}),!navigator.canShare){a.next=18;break}return a.next=16,navigator.share({title:"",files:[j]}).then(function(){al(Z),aa(!1)}).catch(function(a){aa(!1),ak({isOpen:!0,message:"".concat("object"==typeof a?a.message:a),color:"error",time:4e3})});case 16:a.next=19;break;case 18:al(Z),aa(!1),ak({isOpen:!0,message:"Gunakan device android dan browser chrome versi terbaru untuk menggunakan fitur kirim bukti ke pelanggan",color:"error"});case 19:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}},a)})),function(){return Y.apply(this,arguments)}),ai=function(a){return"cash"===a?"Tunai":"myptm"===a?"MyPertamina":"-"};return(0,o.jsxs)(p.W,{px:"0",py:"0",size:"sm",children:[!R&&(0,o.jsxs)(p.W,{className:y().topContainerStruk,id:"capture",ref:$,children:[(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:y().logoContainer,children:(0,o.jsx)(w.Z,{})}),(0,o.jsxs)("div",{className:y().headerContent,children:[(0,o.jsx)("span",{children:(null==a?void 0:null===(f=a.receipt)|| void 0===f?void 0:f.storeName)||"-"}),(0,o.jsx)("span",{children:(null==a?void 0:null===(g=a.receipt)|| void 0===g?void 0:g.address)||"-"}),(0,o.jsx)("span",{children:(null==a?void 0:null===(h=a.receipt)|| void 0===h?void 0:h.phoneNumber)||"-"})]}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:y().itemStruk,children:[(0,o.jsx)("hr",{className:y().separatorStruk}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Kasir"}),(0,o.jsx)("span",{children:null==a?void 0:null===(i=a.subHeader)|| void 0===i?void 0:i.merchantName})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Waktu"}),(0,o.jsx)("span",{children:null==a?void 0:null===(j=a.subHeader)|| void 0===j?void 0:j.date})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"No. Transaksi"}),(0,o.jsx)("span",{children:null==a?void 0:null===(k=a.subHeader)|| void 0===k?void 0:k.transactionUniqueKey})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Metode Pembayaran"}),(0,o.jsx)("span",{children:ai(null==a?void 0:a.paymentType)})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Nama Pelanggan"}),(0,o.jsx)("span",{children:(null==a?void 0:null===(l=a.subsidi)|| void 0===l?void 0:l.nama)||"-"})]}),af&&(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Nomor KK"}),(0,o.jsx)("span",{children:(null==a?void 0:null===(z=a.subsidi)|| void 0===z?void 0:z.familyId)||"-"})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Nomor NIK"}),(0,o.jsx)("span",{children:null==a?void 0:null===(A=a.subsidi)|| void 0===A?void 0:A.nik})]}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Jenis Pengguna"}),(0,o.jsx)("span",{children:E.UH[null==a?void 0:null===(H=a.subsidi)|| void 0===H?void 0:H.category]||"-"})]}),(0,o.jsx)("hr",{className:y().separatorStruk}),a.isCanceled?(0,o.jsxs)("div",{className:y().cancelNotif,children:[(0,o.jsx)("p",{children:"DIBATALKAN"}),(0,o.jsxs)("div",{className:y().reasonBadge,children:[(0,o.jsx)("span",{children:(0,o.jsx)(D.Z,{})}),(0,o.jsx)("span",{children:(0,o.jsx)("p",{children:a.reason||"-"})})]})]}):(0,o.jsx)("div",{style:{width:"100%",textAlign:"center",fontWeight:"Bold"},children:" LUNAS "}),(0,o.jsx)("hr",{className:y().separatorStruk}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsxs)("div",{className:y().itemListCus,children:[(0,o.jsx)("span",{children:null==a?void 0:null===(I=a.products)|| void 0===I?void 0:null===(J=I[0])|| void 0===J?void 0:J.productName}),(0,o.jsx)("span",{children:null==a?void 0:null===(K=a.products)|| void 0===K?void 0:null===(L=K[0])|| void 0===L?void 0:L.quantity})]}),(0,o.jsxs)("span",{children:["Rp. ",null==a?void 0:null===(M=a.products)|| void 0===M?void 0:null===(N=M[0])|| void 0===N?void 0:N.totalPrice]})]}),(0,o.jsx)("hr",{className:y().separatorStruk}),(0,o.jsxs)("div",{className:y().itemList,children:[(0,o.jsx)("span",{children:"Sub Total"}),(0,o.jsxs)("span",{children:["Rp."," "+(0,v.mV)((null==a?void 0:null===(O=a.totalSection)|| void 0===O?void 0:O.totalPriceBeforeDiscount)||(null==a?void 0:null===(P=a.totalSection)|| void 0===P?void 0:P.totalPrice))]})]}),(0,o.jsxs)("div",{className:y().itemListTotal,children:[(0,o.jsx)("span",{children:"Total"}),(0,o.jsxs)("span",{children:["Rp."," "+(0,v.mV)(null==a?void 0:null===(Q=a.totalSection)|| void 0===Q?void 0:Q.totalPrice)]})]}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]})]}),(0,o.jsx)(p.W,{children:(0,o.jsx)(F.Z,{})}),!R&&(0,o.jsxs)("div",{className:y().actionContainer,children:[(0,o.jsx)(B.Z,{onClick:function(){return aa(!0)},variant:"outlined",children:"Kirim Struk ke Pelanggan"}),function(){if(!a.isCanceled&&"cash"===a.paymentType)return(0,o.jsxs)(B.Z,{color:"red",onClick:function(){return aj(!0)},variant:"outlined",children:[(0,o.jsx)(C.Z,{}),"Batalkan Transaksi"]})}(),(0,o.jsx)("span",{className:y().btnHome,children:(0,o.jsx)(G(),{href:"/app/verification-nik",children:"Ke Beranda"})})]}),(0,o.jsx)(c,{handleSave:ag,loading:ae,openModal:_,pdfExport:ah,setModalInput:U,setOpenModal:aa}),(0,o.jsx)(d,{modalInput:ab,onChangeWa:function(b){var a=b.target.value;ad(a="0"===a.substr(0,1)?"62"+a.substr(1,b.target.value.length-1):a)},openInNewTab:function(){U(!1),aa(!1);var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w,x,b="".concat((null==a?void 0:null===(c=a.receipt)|| void 0===c?void 0:c.storeName)?"*".concat(null==a?void 0:null===(d=a.receipt)|| void 0===d?void 0:d.storeName,"* %0a"):"-");b+="".concat((null==a?void 0:null===(e=a.receipt)|| void 0===e?void 0:e.address)?"*".concat(null==a?void 0:null===(f=a.receipt)|| void 0===f?void 0:f.address.trim(),"* %0a"):"-"),b+="".concat((null==a?void 0:null===(g=a.receipt)|| void 0===g?void 0:g.phoneNumber)?"*".concat(null==a?void 0:null===(h=a.receipt)|| void 0===h?void 0:h.phoneNumber,"* %0a"):"-"),b+="----------------------------------------%0a",b+="*Kasir* : ".concat(null==a?void 0:null===(i=a.subHeader)|| void 0===i?void 0:i.merchantName,"%0a"),b+="*Waktu* : ".concat(null==a?void 0:null===(j=a.subHeader)|| void 0===j?void 0:j.date,"%0a"),b+="*No. Transaksi* : ".concat(null==a?void 0:null===(k=a.subHeader)|| void 0===k?void 0:k.transactionUniqueKey,"%0a"),b+="*Metode Pembayaran* : ".concat(ai(null==a?void 0:a.paymentType),"%0a"),b+="*Nama Pelanggan* : ".concat(null==a?void 0:null===(l=a.subsidi)|| void 0===l?void 0:l.nama,"%0a"),af&&(b+="*Nomor KK* : ".concat(null==a?void 0:null===(x=a.subsidi)|| void 0===x?void 0:x.familyId,"%0a")),b+="*Nomor NIK* : ".concat(null==a?void 0:null===(m=a.subsidi)|| void 0===m?void 0:m.nik,"%0a"),b+="*Jenis Pengguna* : ".concat(E.UH[null==a?void 0:null===(n=a.subsidi)|| void 0===n?void 0:n.category],"%0a"),b+="----------------------------------------%0a",a.isCanceled?(b+="*DIBATALKAN*%0a----------------------------------------%0a",b+="*Alasan*: ".concat((null==a?void 0:a.reason)||"-","%0a----------------------------------------%0a")):b+="LUNAS%0a----------------------------------------%0a",b+="*Nama* : ".concat(null==a?void 0:null===(o=a.products)|| void 0===o?void 0:null===(p=o[0])|| void 0===p?void 0:p.productName,"%0a"),b+="*Harga* : ".concat(null==a?void 0:null===(q=a.products)|| void 0===q?void 0:null===(r=q[0])|| void 0===r?void 0:r.quantity," x ").concat(null==a?void 0:null===(s=a.products)|| void 0===s?void 0:null===(t=s[0])|| void 0===t?void 0:t.totalPrice,"%0a"),b+="%0a*Sub Total* : ".concat((0,v.mV)(null==a?void 0:null===(u=a.totalSection)|| void 0===u?void 0:u.totalPriceBeforeDiscount)),b+="%0a*Total* : ".concat((0,v.mV)(null==a?void 0:null===(w=a.totalSection)|| void 0===w?void 0:w.totalPrice)),window.open("whatsapp://send?text=".concat(b,"&phone=").concat(ac),"_blank","noopener,noreferrer"),ad("")},setModalInput:U,setWaNumber:ad,waNumber:ac}),R&&(0,o.jsx)(q.D,{position:{top:"50%",right:"47.5%"},children:(0,o.jsx)(r.a,{color:"blue"})})]})}e.defaultProps={data:[],fetchTransactionDetail:{},isLoading:!1,setModalConfirmation:function(){}},e.propTypes={data:b().array,fetchTransactionDetail:b().object,isLoading:b().bool,setModalConfirmation:b().func}},7711:function(c,b,a){"use strict";a.d(b,{kW:function(){return k},o_:function(){return i},p:function(){return j},sO:function(){return h},y5:function(){return g}});var d=a(15886),e=a(97397),f="https://api-map.my-pertamina.id",g=function(a,b){var c={url:"".concat(f).concat(e.f["/sale/pay-cash"]),headers:{Authorization:"Bearer ".concat(a)},method:"POST",key:"postProductPay",message:{success:"Pembayaran berhasil"}};return d.mm(c,b)},h=function(a,b){var c={url:"".concat(f).concat(e.f["/sale/pay-myptm"]),headers:{Authorization:"Bearer ".concat(a)},method:"POST",key:"postProductPayMyPtn"};return d.w(c,b)},i=function(a,b,c){var g={url:"".concat(f).concat(e.f["/transaction/detail"]).concat(a,"/cancel"),headers:{Authorization:"Bearer ".concat(b)},method:"POST",key:"cancelTransaction",message:{success:"Berhasil"}};return d.w(g,c)},j=function(a,b,c,g){var h={url:"".concat(f).concat(e.f["/sale/check-status-myptm"]).concat(a,"/status"),headers:{Authorization:"Bearer ".concat(c)},method:"GET",key:"getCheckStatusPayment",message:{success:"Transaksi Berhasil",pending:"Masih menunggu pembayaran"}};return d.OR(h,b,g)},k=function(a,b,c){var g={url:"".concat(f).concat(e.f["/sale/check-status-myptm"]).concat(a,"/countdown"),headers:{Authorization:"Bearer ".concat(b)},method:"GET",key:"checkCountDownMyptmTrx"};return d.C0(g,c)}},92653:function(a){a.exports={root:"styles_root__Kggp8",success:"styles_success__0ehEy",outline:"styles_outline__4RqcX",warning:"styles_warning__l83zV",noOutline:"styles_noOutline__0oiTY",important:"styles_important__HfRHv",info:"styles_info__9Xf7I",danger:"styles_danger__d1UzS",shadow:"styles_shadow__maOza"}},63418:function(a){a.exports={defaultCardHeader:"styles_defaultCardHeader__f9LYg",cardHeaderColumn:"styles_cardHeaderColumn__ypG5J",defaultCard:"styles_defaultCard__yMTSp",cardTitle:"styles_cardTitle__pFQoJ",withLogo:"styles_withLogo__gfPX8",logoContainer:"styles_logoContainer__TCkDY",title:"styles_title__tO9Od",iconBack:"styles_iconBack__2X2hn",card:"styles_card__VUOyc",centerTitle:"styles_centerTitle__eov_X"}},34218:function(a){a.exports={btnContainer:"styles_btnContainer__ta_n4",alertError:"styles_alertError__8F8Q8"}},63972:function(a){a.exports={alert:"styles_alert__XV2__"}},20175:function(a){a.exports={btnContainerModal:"styles_btnContainerModal__6gEh3",btnConfirmation:"styles_btnConfirmation__306mh"}},69105:function(a){a.exports={pageContainer:"styles_pageContainer__KvNo9",logoContainer:"styles_logoContainer__7Redn",cancelNotif:"styles_cancelNotif__uNzMz",defaultCard:"styles_defaultCard__hIkN0",headerQR:"styles_headerQR__C2Cb8",headerQRInner:"styles_headerQRInner__QOBZ6",headerStruk:"styles_headerStruk__TvpmM",headerContent:"styles_headerContent__ohl2j",iconPertamina:"styles_iconPertamina__emTH9",topContainerStruk:"styles_topContainerStruk__eom1H",separatorStruk:"styles_separatorStruk__RQgGJ",itemList:"styles_itemList__xyUxG",cancelContainer:"styles_cancelContainer__l6eVm",titleReason:"styles_titleReason__mFVMS",reasonValue:"styles_reasonValue__dEpx3",separatorCancel:"styles_separatorCancel__F9b_a",itemListCus:"styles_itemListCus__3c7zT",itemListTotal:"styles_itemListTotal__3cnFQ",needStruk:"styles_needStruk__lTCl3",txtBold:"styles_txtBold__ORA1a",line:"styles_line__AdH3V",modalConfirmation:"styles_modalConfirmation__0GqDc",btnNext:"styles_btnNext__l_J31",actionContainer:"styles_actionContainer__ce8eM",insideModal:"styles_insideModal__Ap8SQ",reasonBadge:"styles_reasonBadge__JKibS",btnHome:"styles_btnHome__k1_P5"}}}])